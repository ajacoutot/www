<!doctype html>
<html lang=en id=release>
<meta charset=utf-8>

<title>OpenBSD 7.1</title>
<meta name="description" content="OpenBSD 7.1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/71.html">

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
7.1
</h2>

<table>
<tr>
<td>
<a href="images/xxx.png">
<img width="227" height="303" src="images/xxx-s.png" alt="xxx"></a>
<td>
Released May ?, 2022. (52nd OpenBSD release)<br>
Copyright 1997-2022, Theo de Raadt.<br>
<br>
Artwork by Luc Houweling.
<br>
<ul>
<li>See the information on <a href="ftp.html">the FTP page</a> for
    a list of mirror machines.
<li>Go to the <code class=reldir>pub/OpenBSD/7.1/</code> directory on
    one of the mirror sites.
<li>Have a look at <a href="errata71.html">the 7.1 errata page</a> for a list
    of bugs and workarounds.
<li>See a <a href="plus71.html">detailed log of changes</a> between the
    7.0 and 7.1 releases.
<p>
<li><a href="https://man.openbsd.org/signify.1">signify(1)</a>
    pubkeys for this release:<p>

<table class=signify>
<tr><td>
openbsd-71-base.pub:
<td>
<a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/openbsd-71-base.pub">
RWR2eHwZTOEiTWog354iy3StRj18VbZl87O9uZpa1M2jGLXEkco6vDT5</a>
<tr><td>
openbsd-71-fw.pub:
<td>
RWQCAJ4gBK3pbcm/Q5XYxu+hIY3Zvx9kwGv2uJphEN7kNl1DD4QRue6v
<tr><td>
openbsd-71-pkg.pub:
<td>
RWQgLTtHQtisyH9qc9imxVFsf+P24M75F1aNio5qJCfG/bO6gATAzC9V
<tr><td>
openbsd-71-syspatch.pub:
<td>
RWTVqN+z9ta+Z6Ri7W7Vlf+XgXE30rGXld8kO78L1GmE61U5Xvbr/zHM
</table>
</ul>
<p>
All applicable copyrights and credits are in the src.tar.gz,
sys.tar.gz, xenocara.tar.gz, ports.tar.gz files, or in the
files fetched via <code>ports.tar.gz</code>.
</table>

<hr>

<section id=new>
<h3>What's New</h3>
<p>
This is a partial list of new features and systems included in OpenBSD 7.1.
For a comprehensive list, see the <a href="plus71.html">changelog</a> leading
to 7.1.

<ul>

<li>New/extended platforms:
  <ul>
    <li>The <a href="arm64.html">arm64</a> platform support was improved with the following changes:
    <ul>
	<li>Support for Apple Silicon Macs has improved and is ready for general use:
	<ul>
	    <li>Added <a href="https://man.openbsd.org/aplspi.4">aplspi(4)</a>, a driver for the SPI controller found on the Apple M1 SoC.
	    <li>Added <a href="https://man.openbsd.org/aplhidev.4">aplhidev(4)</a> support for the keyboard/touchpad on Apple M1 laptops.

	</ul>
	<li>Introduced <a
		href="https://man.openbsd.org/gpiocharger.4">gpiocharger(4)</a>, a
		driver providing support for battery chargers connected to GPIO pins,
		such as those found on the Pinebook Pro.
	<li>Introduced <a
		href="https://man.openbsd.org/gpioleds.4">gpioleds(4)</a> for arm64, a
		driver providing support for LEDs connected to GPIO pins, such as
		those found on the Pinebook Pro.
	<li>Added <a href="https://man.openbsd.org/gpiokeys.4">gpiokeys(4)</a>
		for arm64, a driver which handles events triggered by GPIO keys such
		as lid status and power button.
    </ul>
    <li>Changes on other architectures:
    <ul>
	<li>Enabled enforcing of RLIMIT_MEMLOCK on powerpc64.
  </ul>
</ul>

<li>Various kernel improvements:
  <ul>
	<li>Fixed memory leak in <a
		href="https://man.openbsd.org/fuse.4">fuse(4)</a> when calling <a
		href="https://man.openbsd.org/namei.9">namei(9)</a>.
	<li>Made redistributable firmwares available across all architectures.
	<li>Fixed establishing legacy INTx interrupts on machines without a (usable) MSI interrupt controller.
	<li>Cleaned up irrelevant uses of 3rd mode_t parameter for <a
		href="https://man.openbsd.org/open.2">open(2)</a>/<a
		href="https://man.openbsd.org/openat.2">openat(2)</a>, unused when not
		creating files.
	<li>Changed the power management <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a>
		hw.perfpolicy to "auto" at startup, defaulting to 100%
		performance with AC power connected and using the auto algorithm when
		on battery.
  </ul>

<li>SMP Improvements
  <ul>
	<li>Made pipe event filters MP-safe.
	<li>Set klist lock for sockets to make socket event filters MP-safe.
	<li>Implemented <a href="https://man.openbsd.org/poll.2">poll(2)</a>,
		<a href="https://man.openbsd.org/select.2">select(2)</a>, <a
		href="https://man.openbsd.org/ppoll.2">ppoll(2)</a> and <a
		href="https://man.openbsd.org/pselect.2">pselect(2)</a> on top of
		kqueue.
	<li>Unlocked top part of UVM fault hander on mips64. <!--- XXX move? --->
	<li>Unlocked the <a href="https://man.openbsd.org/kevent.2">kevent(2)</a> system call.
	<li>Made the kqread event filter MP-safe.

	<li>Reduced the time overhead of <a
		href="https://man.openbsd.org/kqueue.2">kqueue(2)</a>-based <a
		href="https://man.openbsd.org/poll.2">poll(2)</a> and <a
		href="https://man.openbsd.org/select.2">select(2)</a> systems calls by
		keeping knotes between the system calls.

  </ul>

<li>Direct Rendering Manager
  <ul>
	<li>Updated <a href="https://man.openbsd.org/drm.4">drm(4)</a>
	    to Linux 5.15.26
	<li><a href="https://man.openbsd.org/inteldrm.4">inteldrm(4)</a>:
	    support for Elkhart Lake, Jasper Lake, Rocket Lake
	<li><a href="https://man.openbsd.org/drm.4">amdgpu(4)</a>:
	    support for Van Gogh APU, Rembrandt "Yellow Carp" Ryzen 6000 APU,
	    Navi 22 "Navy Flounder", Navi 23 "Dimgrey Cavefish",
	    Navi 24 "Beige Goby"
  </ul>

<li>VMM/VMD improvements
  <ul>
	<li>Enabled <a href="https://man.openbsd.org/vmx.4">vmx(4)</a> on arm64.
	<li>Retired <a href="https://man.openbsd.org/OpenBSD-7.0/switch.4">
	    switch(4)</a> support in <a href="https://man.openbsd.org/vmd.8">
	    vmd(8)</a>.
	<li>Fixed a bug where <a href="https://man.openbsd.org/vmd.8">vmd(8)</a>
	    would exit when requesting a new VM and hitting memory resource
	    limits.
	<li>Fixed <a href="https://man.openbsd.org/vmm.4">vmm(4)</a> state
	    corruption on Intel hosts.
	<li>Fixed <a href="https://man.openbsd.org/vmm.4">vmm(4)</a> cpuid leaf
	    clamping when the host has an invariant TSC.
	<li>Added quiesce/wakeup hooks to <a href="https://man.openbsd.org/vmm.4">
	    vmm(4)</a> allowing Intel hosts to suspend and hibernate safely with
	    running guests.
	<li>Added a new login class for <a href="https://man.openbsd.org/vmd.8">
	    vmd(8)</a> on amd64.
  </ul>

<li>Various new userland features:
  <ul>

	<li>Added <a
		href="https://man.openbsd.org/realpath.1">realpath(1)</a>, a wrapper
		for <a href="https://man.openbsd.org/realpath.3">realpath(3)</a> for
		use in ports.
	<li>Removed an unused decoding of c/h/s from the MBR read from disk
		by <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a>.
	<li>Removed <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a>
		"disk" editing command.
	<li>Added <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> "ls
		rogue" to show daemons which are running but not set as "enabled" in
		<a href="https://man.openbsd.org/rc.conf.local.8">rc.conf.local(8)</a>.
	<li>Allowed passing a different signal than SIGTERM in the default
		rc_stop() function in <a
		href="https://man.openbsd.org/rc.subr.8">rc.subr(8)</a>.
	<li>Provided common <a
		href="https://man.openbsd.org/btrace.8">btrace(8)</a> scripts
		kprofile.bt (to save kernel stackframes and produce flamegraphs) and
		runqlat.bt (to measure the latency of the scheduler runqueues).

  </ul>

<li>Various bugfixes and tweaks in userland:
  <ul>

	<li>Removed the constraint that <a
		href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> -b specified block
		count or block size must be greater than 63.
	<li>Stopped <a
		href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> from
		communicating warnings starting with "XXX" which appeared to indicate
		errors.
	<li>Merged bugfixes from upstream into <a
		href="https://man.openbsd.org/less.1">less(1)</a> including fixes for
		the prompt hiding feature (CTRL-P) and an integer overflow.
	<li>Fixed file descriptor leak of /dev/tty on <a
		href="https://man.openbsd.org/doas.1">doas(1)</a> auth failure.
	<li>Replaced <a href="https://man.openbsd.org/lrint.3">lrint(3)</a>,
		<a href="https://man.openbsd.org/lrintf.3">lrintf(3)</a>, <a
		href="https://man.openbsd.org/llrint.3">llrint(3)</a> and <a
		href="https://man.openbsd.org/llrintf.3">llrintf(3)</a>
		implementations from NetBSD with the existing FreeBSD implementations
		we were already using for <a
		href="https://man.openbsd.org/lrintl.3">lrintl(3)</a> and <a
		href="https://man.openbsd.org/llrintl.3">llrintl(3)</a>.
	<li>Renamed Pacific/Enderbury timezone to Pacific/Kanton.
	<li>Called <a href="https://man.openbsd.org/pledge.2">pledge(2)</a>
		later to prevent it from killing various games using ncurses when both
		stdout and stderr are redirected to a non-tty.
	<li>Fixed octal escape parsing in <a href="https://man.openbsd.org/tr.1">tr(1)</a> backslash().
	<li>Added <a href="https://man.openbsd.org/uniq.1">uniq(1)</a> support for arbitrarily long input lines.
	<li>Prevented an access to uninitialized memory in <a href="https://man.openbsd.org/awk.1">awk(1)</a>.
	<li>Updated <a href="https://man.openbsd.org/awk.1">awk(1)</a> to the October 12, 2021 version.


  </ul>

<li>Improved hardware support and driver bugfixes, including:
  <ul>
	<li>Added support to <a
		href="https://man.openbsd.org/pchgpio.4">pchgpio(4)</a> for Cannon
		Lake H and Tiger Lake H platforms.
	<li>Ensured use of the correct encoding in xenocara when /etc/kbdtype
		is present with an attached <a
		href="https://man.openbsd.org/ucc.4">ucc(4)</a> keyboard.
	<li>Fixed an interrupt storm on <a
		href="https://man.openbsd.org/dwge.4">dwge(4)</a> variants which
		support Energy Efficient Ethernet when connected to a switch which
		does so as well.
	<li>Added support for tpm2 CRB interface to <a
		href="https://man.openbsd.org/tpm.4">tpm(4)</a>, fixing recent S4
		regressions on the Surface Go 2 caused by a firmware change.
`	<li>Ensured armv7 and arm64 efiboot allocate fresh memory for the
		device tree with at least one page of free space to extend into. This
		fixes booting on VMWare Fusion.
	<li>Stopped binding audio devices exposed by <a
		href="https://man.openbsd.org/sndiod.8">sndiod(8)</a> to physical
		devices. <!-- XXX check this -->
	<li>Fixed handling of interrupts shared between multiple <a
		href="https://man.openbsd.org/dwiic.4">swiic(4)</a> devices.

  </ul>

<li>New or improved network hardware support:
  <ul>
	<li>Added support to <a href="https://man.openbsd.org/umb.4">umb(4)</a> for SIMCom SIM7600.
	<li>Fixed an interrupt storm on <a
		href="https://man.openbsd.org/dwge.4">dwge(4)</a> variants which
		support Energy Efficient Ethernet when connected to a switch which
		does so as well.
	<li>Added <a href="https://man.openbsd.org/igc.4">igc(4)</a>, a
		driver for the Intel 2.5Gb Ethernet controllers.

  </ul>

<li>Added or improved wireless network drivers:
  <ul>
	<li>Reset the Tx timer upon validation of a BA notification sent by
		<a href="https://man.openbsd.org/iwx.4">iwx(4)</a> and <a
		href="https://man.openbsd.org/iwm.4">iwm(4)</a> firmware.
	<li>Prevented <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> and
		<a href="https://man.openbsd.org/iwx.4">iwx(4)</a> attempts to
		transition toward the same state where this would result in a
		redundant or illegal state transition and a potential hang.
	<li>Fixed a panic when <a
		href="https://man.openbsd.org/iwx.4">iwx(4)</a> cannot find firmware
		at boot time.
	<li>Added relicensed wireless firmwares from Realtek for <a
		href="https://man.openbsd.org/rsu.4">rsu(4)</a>, <a
		href="https://man.openbsd.org/rtwn.4">rtwn(4)</a> and <a
		href="https://man.openbsd.org/urtwn.4">urtwn(4)</a> devices, allowing
		these devices to work without requiring a separate firmware download.
	<li>Added a workaround for buggy <a
		href="https://man.openbsd.org/athn.4">athn(4)</a> devices to prevent
		filling up the node cache when used in hostap mode.
	<li>Applied a workaround in <a
		href="https://man.openbsd.org/mvkpcie.4">mvkpcie(4)</a> to fix an
		external abort under load with <a
		href="https://man.openbsd.org/athn.4">athn(4)</a>.
	<li>Fixed <a href="https://man.openbsd.org/iwm.4">iwm(4)</a>
		performance drop after roaming between APs in 11n mode.
	<li>Ensured <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> uses
		only the HT (high throughput) frame format for data frames.
	<li>Allowed AUTH->AUTH state transitions in the <a
		href="https://man.openbsd.org/iwm.4">iwm(4)</a> and <a
		href="https://man.openbsd.org/iwx.4">iwx(4)</a> drivers again, needed
		if the access point uses band-steering.
	<li>Added support for 802.11n 40MHz channels to the <a
		href="https://man.openbsd.org/iwm.4">iwm(4)</a> driver.
	<li>Reverted to use <a
		href="https://man.openbsd.org/iwm.4">iwm(4)</a> firmware v17 on Intel
		AC 7265, fixing instability issues on X1 Carbon gen3.
	<li>Cached the old BSSID when roaming with <a
		href="https://man.openbsd.org/iwx.4">iwx(4)</a>.
	<li>Explicitly stopped <a
		href="https://man.openbsd.org/iwx.4">iwx(4)</a> Rx block ack when
		roaming between access points.
	<li>Added initial 40MHz support to the <a
		href="https://man.openbsd.org/iwx.4">iwx(4)</a> driver.
	<li>Made <a href="https://man.openbsd.org/athn.4">athn(4)</a> attach to the Sony UWA-BR100.
	<li>Fixed "null node" panics in <a href="https://man.openbsd.org/run.4">run(4)</a>.
	<li>Fixed "(null node)" panics on <a href="https://man.openbsd.org/run.4">run(4)</a>.
	<li>Fixed <a href="https://man.openbsd.org/iwn.4">iwn(4)</a> with 4965 devices.


  </ul>

<li>IEEE 802.11 wireless stack improvements and bugfixes:
  <ul>
	<li>Added <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> Tx aggregation support.
	<li>Added an ADDBA_OFFLOAD capability for wifi devices to manage Tx block ack sessions entirely in firmware.
	<li>Cached the old BSSID when roaming with <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> so firmware commands can continue using it while roaming to a new AP.
	<li>Added support for 40MHz channels to net80211 RA.
	<li>Added monitoring of 20/40MHz channel width changes in beacons sent by our access point, notifying drivers when the channel width has changed.


  </ul>

<li>Generic network stack improvements and bugfixes:
  <ul>
	<li>Fixed <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> $nr incorrect macro expansion.
	<li>Added support for PPP IPCP extensions for DNS to <a href="https://man.openbsd.org/sppp.4">sppp(4)</a>.
  </ul>

<li>Installer and upgrade improvements:
  <ul>
	<li>Corrected installer to use "inet autoconf" properly for <a
		href="https://man.openbsd.org/hostname.if.5">hostname.if(5)</a> files.
	<li>Stopped prompting whether to fall back to HTTP in the installer, making the fallback automatic.
	<li>Used <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a>
		"join" command by default in <a
		href="https://man.openbsd.org/hostname.if.5">hostname.if(5)</a> files,
		replacing the old "nwid".
	<li>Documented <a
		href="https://man.openbsd.org/install.site.5">install.site(5)</a>,
		OpenBSD installation and upgrade customization.
	<li>Corrected "!" escape handling in the installer when accepting WEP/WPA passphrase.
	<li>Made <a href="https://man.openbsd.org/config.8">config(8)</a> -e work with ramdisk kernels.

  </ul>

<li>Security improvements:
  <ul>
	<li>Cleared length of keys in <a href="https://man.openbsd.org/vnconfig.8">vnconfig(8)</a> alongside keys themselves.
	<li>Removed hifn(4), safe(4) and ubsec(4) crypto drivers.
	<li>Fixed double free after allocation failure in <a href="https://man.openbsd.org/bpf.4">bpf(4)</a>.
	<li>Added call to <a href="https://man.openbsd.org/unveil.2">unveil(2)</a> to restrict <a href="https://man.openbsd.org/stty.1">stty(1)</a> -f filesystem access.
	<li>Fixed a panic by prohibiting renames of tmpfs mount-points.
	<li>Fixed <a href="https://man.openbsd.org/vi.1">vi(1)</a> use after free with unsaved buffer. <!-- XXX move? -->
	<li>Disabled <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> mouse tracking by default.

  </ul>

<li>Routing daemons and other userland network improvements:
  <ul>
	<li>Modified <a href="https://man.openbsd.org/syslog.conf.5">syslog.conf(5)</a> examples to use TLS rather than the plaintext protocols.
	<li>Stopped ignoring <a href="https://man.openbsd.org/carp.4">carp(4)</a> interfaces in <a href="https://man.openbsd.org/dhcpleased.8">dhcpleased(8)</a>.
	<li>Fixed <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> to respond with 400 Bad Request when a client sends header lines without a colon.
	<li>Added protocol version checking to <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
	<li>Fixed crashes in <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
	<li>Implemented <a href="https://man.openbsd.org/openrsync.1">openrsync(1)</a> --compare-dest, allowing specification of additional directories to check for files to be available.
	<li>Implemented <a href="https://man.openbsd.org/openrsync.1">openrsync(1)</a> --max-size and --min-size.
	<li>Limited the number of <a href="https://man.openbsd.org/openrsync.1">openrsync(1)</a> processes being spawned by <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> to 16.
	<li>Ensured enabled resolvers are honored by <a href="https://man.openbsd.org/unwind.8">unwind(8)</a> to keep unused forwarders disabled properly.
	<li>Annotated an <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> 413 error with "request body too large" in the error log.
	<li>Corrected <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> version string checking, responding with 505 Version Not Supported rather than 400 Bad Request when the version format is incorrect.
	<li>Stopped duplicating "Connection: close" headers in <a href="https://man.openbsd.org/relayd.8">relayd(8)</a>, only adding it if it's not a websocket response.
	<li>In <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>, stopped sending content alongside responses to HEAD requests.
	<li>Switched <a href="https://man.openbsd.org/nsd.8">nsd(8)</a> to enable default DNS cookies on, matching behavior as released in OpenBSD 7.0.
	<li>Added <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> custom error page facility.
	<li>Made <a href="https://man.openbsd.org/iked.conf.5">iked.conf(5)</a> proto config option accept a list to allow specifying multiple protocols for a single policy.
	<li>Fixed broken key exchange negotiation with matching proposals in <a href="https://man.openbsd.org/iked.8">iked(8)</a>.
	<li>Limited <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> HTTP requests to 2GB of data.
	<li>Published <a href="https://man.openbsd.org/rpki-client.8">rpki-client</a> 7.5.
	<li>Limited the number of publication points under a given TAL in <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>.



  </ul>

<li><a href="https://man.openbsd.org/tmux">tmux(1)</a> improvements and bug fixes:
  <ul>
	<li>Fixed a crash in <a
		href="https://man.openbsd.org/tmux.1">tmux(1)</a> when a session with
		multiple clients is destroyed but tmux does not close completely due
		to other sessions.
	<li>Fixed a <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>
		redraw problem on automargin terminals.
	<li>Fixed a problem with repeat in <a
		href="https://man.openbsd.org/tmux.1">tmux(1)</a> copy mode.
	<li>Added -T to set a popup title in <a
		href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
	<li>Added -s and -S to <a
		href="https://man.openbsd.org/tmux.1">tmux(1)</a> display-popup to set
		popup and border style.
	<li>Fixed application-set fg and bg in <a
		href="https://man.openbsd.org/tmux.1">tmux(1)</a> panes.
	<li>Added a way to force a color to RGB in <a
		href="https://man.openbsd.org/tmux.1">tmux(1)</a> and a format to
		display it.
	<li>Added a cursor-colour option to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
	<li>Added a cursor-style option to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.

  </ul>

<li>OpenSMTPD version <!--- XXX --->
  <ul>
  </ul>

<li>LibreSSL version <!--- XXX --->
  <ul>
    <li>New Features
    <ul>
      <li>The RFC 3779 API was ported from OpenSSL.<br>
	  Many bugs were fixed, regression tests were added and the code was cleaned up.
      <li>Certificate Transparency was ported from OpenSSL.<br>
          Many internal improvements were made, resulting in cleaner and safer code.<br>
          Regress coverage was added. libssl does not yet make use of it.
    </ul>

    <li>Portable Improvements
    <ul>
      <li>Enabled ASAN CI on Linux platform.<br>
          Thanks to Ilya Shipitsin (chipitsine &lt;at&gt; gmail com).
      <li>Fixed various POSIX compliance and other portability issues<br>
          found by the port to the Sortix operating system.
      <li>Add libmd as platform specific libraries for Solaris.<br>
          Issue reported from (ihsan &lt;at&gt; opencsw org) on libressl ML.
      <li>Set IA-64 compiler flag only if it is HP-UX with IA-64.<br>
          Suggested from Larkin Nickle (me &lt;at&gt; larbob org) by libressl ML.
      <li>Enabled and scheduled Coverity scan.<br>
          Contributed by Ilya Shipitsin (chipitsine &lt;at&gt; gmail com) on github.
    </ul>

    <li>Compatibility Changes
    <ul>
      <li>Most structs that were previously defined in the following headers
          are now opaque as they are in OpenSSL 1.1:<br>
          bio.h, bn.h, comp.h, dh.h, dsa.h, evp.h, hmac.h, ocsp.h, rsa.h,
          x509.h, x509v3.h, x509_vfy.h
      <li>Switch TLSv1.3 cipher names from AEAD- to OpenSSL's TLS_<br>
          OpenSSL added the TLSv1.3 ciphersuites with "RFC names" instead
          of using something consistent with the previous naming.<br>
          Various test suites expect these names (instead of checking for the much
          more sensible cipher numbers).<br>
          The old names are still accepted as aliases.
      <li>Subject alternative names and name constraints are now validated
          when they are added to certificates.<br>
          Various interoperability problems with stacks that validate
          certificates more strictly than OpenSSL can be avoided this way.
      <li>Attempt to opportunistically use the host name for SNI in s_client
    </ul>

    <li>Bug fixes
    <ul>
      <li>Avoid infinite loop for custom curves of order 1.<br>
          Found and reported with a reproducer by Hanno Boeck.
          Helpful comments and analysis from David Benjamin.
      <li>Avoid infinite loop on parsing DSA private keys.<br>
          Issue reported with reproducers by Hanno Boeck.
          Additional variants and analysis by David Benjamin.
      <li>A malicious certificate can cause an infinite loop.<br>
          Reported by and fix from Tavis Ormandy and David Benjamin, Google.
      <li>In some situations, the verifier would discard the error on an
          unvalidated certificate chain.<br>
          This would happen when the verification callback was in use,
          instructing the verifier to continue unconditionally.<br>
          This could lead to incorrect decisions being made in software.
      <li>Avoid an infinite loop in SSL_shutdown()
      <li>Fix another return 0 bug in SSL_shutdown()
      <li>Handle zero byte reads/writes that trigger handshakes in the
          TLSv1.3 stack
      <li>A long standing memleak in libtls CRL handling was fixed
    </ul>

    <li>Internal Improvements
    <ul>
      <li>Cache the SHA-512 hash instead of the SHA-1 hash and cache
          notBefore and notAfter times when X.509 certificates are parsed.
      <li>The X.509 lookup code has been simplified and cleaned up.
      <li>Fixed numerous issues flagged by coverity and the cryptofuzz project
      <li>Increased the number of Miller-Rabin checks in DH and DSA
          key/parameter generation
      <li>Started using the bytestring API in libcrypto for cleaner and
          safer code
      <li>Convert {i2d,d2i}_{,EC_,DSA_,RSA_}PUBKEY{,_bio,_fp}() to templated
          ASN1
      <li>Convert ASN1_OBJECT_new() to calloc()
      <li>Convert ASN1_STRING_type_new() to calloc()
      <li>Rewrite ASN1_STRING_cmp()
      <li>Use calloc() for X509_CRL_METHOD_new() instead of malloc()
      <li>Convert ASN1_PCTX_new() to calloc()
      <li>Replace asn1_tlc_clear and asn1_tlc_clear_nc macros with a function
      <li>Consolidate {d2i,i2d}_{pr,pu}.c
      <li>Remove handling of a NULL BUF_MEM from asn1_collect()
      <li>Pull the recursion depth check up to the top of asn1_collect()
      <li>Inline collect_data() in asn1_collect()
      <li>Convert asn1_d2i_ex_primitive()/asn1_collect() from BUF_MEM to CBB
      <li>Clean up d2i_ASN1_BOOLEAN() and i2d_ASN1_BOOLEAN()
      <li>Consolidate ASN.1 universal tag type data
      <li>Rewrite ASN.1 identifier/length parsing in CBS
      <li>Make OBJ_obj2nid() work correctly with NID_undef
      <li>tlsext_tick_lifetime_hint is now an uint32_t
      <li>Untangle ssl3_get_message() return values
      <li>Rename tls13_buffer to tls_buffer
      <li>Fold DTLS_STATE_INTERNAL into DTLS1_STATE
      <li>Provide a way to determine our maximum legacy version
      <li>Mop up enc_read_ctx and read_hash
      <li>Fold SSL_SESSION_INTERNAL into SSL_SESSION
      <li>Use ssl_force_want_read in the DTLS code
      <li>Add record processing limit to DTLS code
      <li>Add explicit CBS_contains_zero_byte() check in CBS_strdup()
      <li>Improve SNI hostname validation
      <li>Ensure SSL_set_tlsext_host_name() is given a valid hostname
      <li>Fix a strange check in the auto DH codepath
      <li>Factor out/rewrite DHE key exchange
      <li>Convert server serialisation of DHE parameters/public key to new
          functions
      <li>Check DH public key in ssl_kex_peer_public_dhe()
      <li>Move the minimum DHE key size check into ssl_kex_peer_params_dhe()
      <li>Clean up and refactor server side DHE key exchange
      <li>Provide CBS_get_last_u8()
      <li>Provide CBS_get_u64()
      <li>Provide CBS_add_u64()
      <li>Provide various CBS_peek_* functions
      <li>Use CBS_get_last_u8() to find the content type in TLSv1.3 records
      <li>unifdef TLS13_USE_LEGACY_CLIENT_AUTH
      <li>Correct SSL_get_peer_cert_chain() when used with the TLSv1.3 stack
      <li>Only allow zero length key shares when we know we're doing HRR
      <li>Pull key share group/length CBB code up from
          tls13_key_share_public()
      <li>Refactor ssl3_get_server_kex_ecdhe() to separate parsing and
          validation
      <li>Return 0 on failure from send/get kex functions in the legacy
          stack
      <li>Rename tls13_key_share to tls_key_share
      <li>Allocate and free the EVP_AEAD_CTX struct in
          tls13_record_protection
      <li>Convert legacy TLS client to tls_key_share
      <li>Convert legacy TLS server to tls_key_share
      <li>Stop attempting to duplicate the public and private key of dh_tmp
      <li>Rename dh_tmp to dhe_params
      <li>Rename CERT to SSL_CERT and CERT_PKEY to SSL_CERT_PKEY
      <li>Clean up pkey handling in ssl3_get_server_key_exchange()
      <li>Fix GOST skip certificate verify handling
      <li>Simplify tlsext_keyshare_server_parse()
      <li>Plumb decode errors through key share parsing code
      <li>Simplify SSL_get_peer_certificate()
      <li>Cleanup/simplify ssl_cert_type()
      <li>The S3I macro was removed
      <li>The openssl(1) cms, smime and ts subcommands option handling was
          converted and the C source was cleaned up.
    </ul>

    <li>Documentation improvements
    <ul>
      <li>45 new manual pages, most of which were written from scratch.<br>
          Documentation coverage of ASN.1 and X.509 code has been
          significantly improved.
    </ul>

    <li>API additions and removals
    <ul>
      <li>libssl
      <ul>
        <li>API additions
        <ul>
          <li>SSL_get0_verified_chain SSL_peek_ex SSL_read_ex SSL_write_ex
        </ul>
        <li>API stubs for compatibility
        <ul>
          <li>SSL_CTX_get_keylog_callback SSL_CTX_get_num_tickets<br>
              SSL_CTX_set_keylog_callback SSL_CTX_set_num_tickets<br>
              SSL_get_num_tickets SSL_set_num_tickets
        </ul>
      </ul>
      <li>libcrypto
      <ul>
        <li>added API (some of these were previously available as macros):
        <ul>
          <li>ASIdOrRange_free ASIdOrRange_new ASIdentifierChoice_free<br>
              ASIdentifierChoice_new ASIdentifiers_free ASIdentifiers_new<br>
              ASN1_TIME_diff ASRange_free ASRange_new BIO_get_callback_ex<br>
              BIO_get_init BIO_set_callback_ex BIO_set_next<br>
              BIO_set_retry_reason BN_GENCB_set BN_GENCB_set_old<br>
              BN_abs_is_word BN_get_flags BN_is_negative<br>
              BN_is_odd BN_is_one BN_is_word BN_is_zero BN_set_flags<br>
              BN_to_montgomery BN_with_flags BN_zero_ex CTLOG_STORE_free<br>
              CTLOG_STORE_get0_log_by_id CTLOG_STORE_load_default_file<br>
              CTLOG_STORE_load_file CTLOG_STORE_new CTLOG_free<br>
              CTLOG_get0_log_id CTLOG_get0_name CTLOG_get0_public_key<br>
              CTLOG_new CTLOG_new_from_base64 CT_POLICY_EVAL_CTX_free<br>
              CT_POLICY_EVAL_CTX_get0_cert CT_POLICY_EVAL_CTX_get0_issuer<br>
              CT_POLICY_EVAL_CTX_get0_log_store CT_POLICY_EVAL_CTX_get_time<br>
              CT_POLICY_EVAL_CTX_new CT_POLICY_EVAL_CTX_set1_cert<br>
              CT_POLICY_EVAL_CTX_set1_issuer<br>
              CT_POLICY_EVAL_CTX_set_shared_CTLOG_STORE<br>
              CT_POLICY_EVAL_CTX_set_time DH_get0_g DH_get0_p DH_get0_priv_key<br>
              DH_get0_pub_key DH_get0_q DH_get_length DSA_bits DSA_get0_g<br>
              DSA_get0_p DSA_get0_priv_key DSA_get0_pub_key DSA_get0_q<br>
              ECDSA_SIG_get0_r ECDSA_SIG_get0_s EVP_AEAD_CTX_free<br>
              EVP_AEAD_CTX_new EVP_CIPHER_CTX_buf_noconst<br>
              EVP_CIPHER_CTX_get_cipher_data EVP_CIPHER_CTX_set_cipher_data<br>
              EVP_MD_CTX_md_data EVP_MD_CTX_pkey_ctx EVP_MD_CTX_set_pkey_ctx<br>
              EVP_MD_meth_dup EVP_MD_meth_free EVP_MD_meth_new<br>
              EVP_MD_meth_set_app_datasize EVP_MD_meth_set_cleanup<br>
              EVP_MD_meth_set_copy EVP_MD_meth_set_ctrl EVP_MD_meth_set_final<br>
              EVP_MD_meth_set_flags EVP_MD_meth_set_init<br>
              EVP_MD_meth_set_input_blocksize EVP_MD_meth_set_result_size<br>
              EVP_MD_meth_set_update EVP_PKEY_asn1_set_check<br>
              EVP_PKEY_asn1_set_param_check EVP_PKEY_asn1_set_public_check<br>
              EVP_PKEY_check EVP_PKEY_meth_set_check<br>
              EVP_PKEY_meth_set_param_check EVP_PKEY_meth_set_public_check<br>
              EVP_PKEY_param_check EVP_PKEY_public_check FIPS_mode<br>
              FIPS_mode_set IPAddressChoice_free IPAddressChoice_new<br>
              IPAddressFamily_free IPAddressFamily_new IPAddressOrRange_free<br>
              IPAddressOrRange_new IPAddressRange_free IPAddressRange_new<br>
              OBJ_get0_data OBJ_length OCSP_resp_get0_certs OCSP_resp_get0_id<br>
              OCSP_resp_get0_produced_at OCSP_resp_get0_respdata<br>
              OCSP_resp_get0_signature OCSP_resp_get0_signer<br>
              OCSP_resp_get0_tbs_sigalg PEM_write_bio_PrivateKey_traditional<br>
              RSA_get0_d RSA_get0_dmp1 RSA_get0_dmq1 RSA_get0_e RSA_get0_iqmp<br>
              RSA_get0_n RSA_get0_p RSA_get0_pss_params RSA_get0_q<br>
              SCT_LIST_free SCT_LIST_print SCT_LIST_validate SCT_free<br>
              SCT_get0_extensions SCT_get0_log_id SCT_get0_signature<br>
              SCT_get_log_entry_type SCT_get_signature_nid SCT_get_source<br>
              SCT_get_timestamp SCT_get_validation_status SCT_get_version<br>
              SCT_new SCT_new_from_base64 SCT_print SCT_set0_extensions<br>
              SCT_set0_log_id SCT_set0_signature SCT_set1_extensions<br>
              SCT_set1_log_id SCT_set1_signature SCT_set_log_entry_type<br>
              SCT_set_signature_nid SCT_set_source SCT_set_timestamp<br>
              SCT_set_version SCT_validate SCT_validation_status_string<br>
              X509_OBJECT_free X509_OBJECT_new X509_REQ_get0_pubkey<br>
              X509_SIG_get0 X509_SIG_getm X509_STORE_CTX_get_by_subject<br>
              X509_STORE_CTX_get_num_untrusted<br>
              X509_STORE_CTX_get_obj_by_subject X509_STORE_CTX_get_verify<br>
              X509_STORE_CTX_get_verify_cb X509_STORE_CTX_set0_verified_chain<br>
              X509_STORE_CTX_set_current_cert X509_STORE_CTX_set_error_depth<br>
              X509_STORE_CTX_set_verify X509_STORE_get_verify<br>
              X509_STORE_get_verify_cb X509_STORE_set_verify<br>
              X509_get_X509_PUBKEY X509_get_extended_key_usage<br>
              X509_get_extension_flags X509_get_key_usage<br>
              X509v3_addr_add_inherit X509v3_addr_add_prefix<br>
              X509v3_addr_add_range X509v3_addr_canonize X509v3_addr_get_afi<br>
              X509v3_addr_get_range X509v3_addr_inherits<br>
              X509v3_addr_is_canonical X509v3_addr_subset<br>
              X509v3_addr_validate_path X509v3_addr_validate_resource_set<br>
              X509v3_asid_add_id_or_range X509v3_asid_add_inherit<br>
              X509v3_asid_canonize X509v3_asid_inherits<br>
              X509v3_asid_is_canonical X509v3_asid_subset<br>
              X509v3_asid_validate_path X509v3_asid_validate_resource_set<br>
              d2i_ASIdOrRange d2i_ASIdentifierChoice d2i_ASIdentifiers<br>
              d2i_ASRange d2i_IPAddressChoice d2i_IPAddressFamily<br>
              d2i_IPAddressOrRange d2i_IPAddressRange d2i_SCT_LIST<br>
              i2d_ASIdOrRange i2d_ASIdentifierChoice i2d_ASIdentifiers<br>
              i2d_ASRange i2d_IPAddressChoice i2d_IPAddressFamily<br>
              i2d_IPAddressOrRange i2d_IPAddressRange i2d_SCT_LIST<br>
              i2d_re_X509_CRL_tbs i2d_re_X509_REQ_tbs i2d_re_X509_tbs i2o_SCT<br>
              i2o_SCT_LIST o2i_SCT o2i_SCT_LIST
        </ul>
        <li>removed API:
        <ul>
          <li>ASN1_check_infinite_end ASN1_const_check_infinite_end EVP_dss<br>
              EVP_dss1 EVP_ecdsa HMAC_CTX_cleanup HMAC_CTX_init<br>
              NETSCAPE_ENCRYPTED_PKEY_free NETSCAPE_ENCRYPTED_PKEY_new<br>
              NETSCAPE_PKEY_free NETSCAPE_PKEY_new NETSCAPE_X509_free<br>
              NETSCAPE_X509_new OBJ_bsearch_ex_ PEM_SealFinal PEM_SealInit<br>
              PEM_SealUpdate PEM_read_X509_CERT_PAIR<br>
              PEM_read_bio_X509_CERT_PAIR PEM_write_X509_CERT_PAIR<br>
              PEM_write_bio_X509_CERT_PAIR X509_CERT_PAIR_free<br>
              X509_CERT_PAIR_new X509_OBJECT_free_contents asn1_do_adb<br>
              asn1_do_lock asn1_enc_free asn1_enc_init asn1_enc_restore<br>
              asn1_enc_save asn1_ex_c2i asn1_get_choice_selector<br>
              asn1_get_field_ptr asn1_set_choice_selector check_defer<br>
              d2i_ASN1_BOOLEAN d2i_NETSCAPE_ENCRYPTED_PKEY d2i_NETSCAPE_PKEY<br>
              d2i_NETSCAPE_X509 d2i_Netscape_RSA d2i_RSA_NET<br>
              d2i_X509_CERT_PAIR i2d_ASN1_BOOLEAN i2d_NETSCAPE_ENCRYPTED_PKEY<br>
              i2d_NETSCAPE_PKEY i2d_NETSCAPE_X509 i2d_Netscape_RSA i2d_RSA_NET<br>
              i2d_X509_CERT_PAIR name_cmp obj_cleanup_defer
        </ul>
      </ul>
    </ul>
  </ul>

<li>OpenSSH version <!--- XXX --->
 <ul>
  <li>Security
  <ul>
    <li>...
  </ul>
  <li>Potentially incompatible changes
  <ul>
    <li>...
  </ul>

  <li>New features
  <ul>
    <li>...
  </ul>

  <li>Bugfixes
  <ul>
    <li>...
  </ul>
 </ul>

<li>mandoc version <!--- XXX --->
    <ul>
	<li>...
    </ul>

<li>Ports and packages:
  <p>Many pre-built packages for each architecture:
  <!-- number of FTP packages minus SHA256, SHA256.sig, index.txt -->
  <ul style="column-count: 3">
    <li>aarch64:     XXXX
    <li>amd64:       XXXX
    <li>arm:         XXXX
    <li>i386:        XXXX
    <li>mips64:      XXXX
    <li>powerpc:     XXXX
    <li>powerpc64:   XXXX
    <li>riscv64:     XXXX
    <li>sparc64:     XXXX
  </ul>

  <p>Some highlights:
  <ul style="column-count: 3">
    <li>Asterisk 19.3.1
    <li>Audacity 2.4.2
    <li>CMake 3.20.3
    <li>Chromium 100.0.4896.75
    <li>Emacs 27.2
    <li>FFmpeg 4.4.1
    <li>GCC 8.4.0 and 11.2.0
    <li>GHC 8.10.6
    <li>GNOME 41.5
    <li>Go 1.17.7
    <li>JDK 8u322, 11.0.14 and 17.0.2
    <li>KDE Applications 21.12.2
    <li>KDE Frameworks 5.91.0
    <li>Krita 5.0.2
    <li>LLVM/Clang 13.0.0
    <li>LibreOffice 7.3.2.2
    <li>Lua 5.1.5, 5.2.4 and 5.3.6
    <li>MariaDB 10.6.7
    <li>Mono 6.12.0.122
    <li>Mozilla Firefox 99.0 and ESR 91.8.0
    <li>Mozilla Thunderbird 91.8.0
    <li>Mutt 2.2.2 and NeoMutt 20211029
    <li>Node.js 16.14.2
    <li>OCaml 4.12.1
    <li>OpenLDAP 2.4.59
    <li>PHP 7.4.28, 8.0.17 and 8.1.4
    <li>Postfix 3.5.14
    <li>PostgreSQL 14.2
    <li>Python 2.7.18, 3.8.13, 3.9.12 and 3.10.4
    <li>Qt 5.15.2 and 6.0.4
    <li>R 4.1.2
    <li>Ruby 2.7.5, 3.0.3 and 3.1.1
    <li>Rust 1.59.0
    <li>SQLite 2.8.17 and 3.38.2
    <li>Shotcut 21.10.31
    <li>Sudo 1.9.10
    <li>Suricata 6.0.4
    <li>Tcl/Tk 8.5.19 and 8.6.8
    <li>TeX Live 2021
    <li>Vim 8.2.4600 and Neovim 0.6.1
    <li>Xfce 4.16
  </ul>
  <p>

<li>As usual, steady improvements in manual pages and other documentation.

<li>The system includes the following major components from outside suppliers:
  <ul>
    <li>Xenocara (based on X.Org 7.7 with xserver 1.21.1.3 + patches,
        freetype 2.11.0, fontconfig 2.12.94, Mesa 21.3.7, xterm 369,
        xkeyboard-config 2.20, fonttosfnt 1.2.2 and more)
    <li>LLVM/Clang 13.0.0 (+ patches)
    <li>GCC 4.2.1 (+ patches) and 3.3.6 (+ patches)
    <li>Perl 5.32.1 (+ patches)
    <li>NSD 4.4.0
    <li>Unbound 1.15.0
    <li>Ncurses 5.7
    <li>Binutils 2.17 (+ patches)
    <li>Gdb 6.3 (+ patches)
    <li>Awk October 12, 2021
    <li>Expat 2.4.7
  </ul>

</ul>
</section>

<hr>

<section id=install>
<h3>How to install</h3>
<p>
Please refer to the following files on the mirror site for
extensive details on how to install OpenBSD 7.1 on your machine:

<ul>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/alpha/INSTALL.alpha">
	.../OpenBSD/7.1/alpha/INSTALL.alpha</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/amd64/INSTALL.amd64">
	.../OpenBSD/7.1/amd64/INSTALL.amd64</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/arm64/INSTALL.arm64">
	.../OpenBSD/7.1/arm64/INSTALL.arm64</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/armv7/INSTALL.armv7">
	.../OpenBSD/7.1/armv7/INSTALL.armv7</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/hppa/INSTALL.hppa">
	.../OpenBSD/7.1/hppa/INSTALL.hppa</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/i386/INSTALL.i386">
	.../OpenBSD/7.1/i386/INSTALL.i386</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/landisk/INSTALL.landisk">
	.../OpenBSD/7.1/landisk/INSTALL.landisk</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/luna88k/INSTALL.luna88k">
	.../OpenBSD/7.1/luna88k/INSTALL.luna88k</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/macppc/INSTALL.macppc">
	.../OpenBSD/7.1/macppc/INSTALL.macppc</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/octeon/INSTALL.octeon">
	.../OpenBSD/7.1/octeon/INSTALL.octeon</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/powerpc64/INSTALL.powerpc64">
	.../OpenBSD/7.1/powerpc64/INSTALL.powerpc64</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/riscv64/INSTALL.riscv64">
	.../OpenBSD/7.1/riscv64/INSTALL.riscv64</a>
<li><a href="https://ftp.openbsd.org/pub/OpenBSD/7.1/sparc64/INSTALL.sparc64">
	.../OpenBSD/7.1/sparc64/INSTALL.sparc64</a>
</ul>
</section>

<hr>

<section id=quickinstall>
<p>
Quick installer information for people familiar with OpenBSD, and the use of
the "<a href="https://man.openbsd.org/disklabel.8">disklabel</a> -E" command.
If you are at all confused when installing OpenBSD, read the relevant
INSTALL.* file as listed above!

<h3>OpenBSD/alpha:</h3>

<p>
If your machine can boot from CD, you can write <i>install71.iso</i> or
<i>cd71.iso</i> to a CD and boot from it.
Refer to INSTALL.alpha for more details.

<h3>OpenBSD/amd64:</h3>

<p>
If your machine can boot from CD, you can write <i>install71.iso</i> or
<i>cd71.iso</i> to a CD and boot from it.
You may need to adjust your BIOS options first.

<p>
If your machine can boot from USB, you can write <i>install71.img</i> or
<i>miniroot71.img</i> to a USB stick and boot from it.

<p>
If you can't boot from a CD, floppy disk, or USB,
you can install across the network using PXE as described in the included
INSTALL.amd64 document.

<p>
If you are planning to dual boot OpenBSD with another OS, you will need to
read INSTALL.amd64.

<h3>OpenBSD/arm64:</h3>

<p>
Write <i>install71.img</i> or <i>miniroot71.img</i> to a disk and boot from it
after connecting to the serial console.  Refer to INSTALL.arm64 for more
details.

<h3>OpenBSD/armv7:</h3>

<p>
Write a system specific miniroot to an SD card and boot from it after connecting
to the serial console.  Refer to INSTALL.armv7 for more details.

<h3>OpenBSD/hppa:</h3>

<p>
Boot over the network by following the instructions in INSTALL.hppa or the
<a href="hppa.html#install">hppa platform page</a>.

<h3>OpenBSD/i386:</h3>

<p>
If your machine can boot from CD, you can write <i>install71.iso</i> or
<i>cd71.iso</i> to a CD and boot from it.
You may need to adjust your BIOS options first.

<p>
If your machine can boot from USB, you can write <i>install71.img</i> or
<i>miniroot71.img</i> to a USB stick and boot from it.

<p>
If you can't boot from a CD, floppy disk, or USB,
you can install across the network using PXE as described in
the included INSTALL.i386 document.

<p>
If you are planning on dual booting OpenBSD with another OS, you will need to
read INSTALL.i386.

<h3>OpenBSD/landisk:</h3>

<p>
Write <i>miniroot71.img</i> to the start of the CF
or disk, and boot normally.

<h3>OpenBSD/luna88k:</h3>

<p>
Copy 'boot' and 'bsd.rd' to a Mach or UniOS partition, and boot the bootloader
from the PROM, and then bsd.rd from the bootloader.
Refer to the instructions in INSTALL.luna88k for more details.

<h3>OpenBSD/macppc:</h3>

<p>
Burn the image from a mirror site to a CDROM, and power on your machine
while holding down the <i>C</i> key until the display turns on and
shows <i>OpenBSD/macppc boot</i>.

<p>
Alternatively, at the Open Firmware prompt, enter <i>boot cd:,ofwboot
/7.1/macppc/bsd.rd</i>

<h3>OpenBSD/octeon:</h3>

<p>
After connecting a serial port, boot bsd.rd over the network via DHCP/tftp.
Refer to the instructions in INSTALL.octeon for more details.

<h3>OpenBSD/powerpc64:</h3>

<p>
To install, write <i>install71.img</i> or <i>miniroot71.img</i> to a
USB stick, plug it into the machine and choose the <i>OpenBSD
install</i> menu item in Petitboot.
Refer to the instructions in INSTALL.powerpc64 for more details.

<h3>OpenBSD/riscv64:</h3>

<p>
To install, write <i>install71.img</i> or <i>miniroot71.img</i> to a
USB stick, and boot with that drive plugged in.
Make sure you also have the microSD card plugged in that shipped with the
HiFive Unmatched board.
Refer to the instructions in INSTALL.riscv64 for more details.

<h3>OpenBSD/sparc64:</h3>

<p>
Burn the image from a mirror site to a CDROM, boot from it, and type
<i>boot cdrom</i>.

<p>
If this doesn't work, or if you don't have a CDROM drive, you can write
<i>floppy71.img</i> or <i>floppyB71.img</i>
(depending on your machine) to a floppy and boot it with <i>boot
floppy</i>. Refer to INSTALL.sparc64 for details.

<p>
Make sure you use a properly formatted floppy with NO BAD BLOCKS or your install
will most likely fail.

<p>
You can also write <i>miniroot71.img</i> to the swap partition on
the disk and boot with <i>boot disk:b</i>.

<p>
If nothing works, you can boot over the network as described in INSTALL.sparc64.
</section>

<hr>

<section id=upgrade>
<h3>How to upgrade</h3>
<p>
If you already have an OpenBSD 7.0 system, and do not want to reinstall,
upgrade instructions and advice can be found in the
<a href="faq/upgrade71.html">Upgrade Guide</a>.
</section>

<hr>

<section id=sourcecode>
<h3>Notes about the source code</h3>
<p>
<code>src.tar.gz</code> contains a source archive starting at <code>/usr/src</code>.
This file contains everything you need except for the kernel sources,
which are in a separate archive.
To extract:
<blockquote><pre>
# <kbd>mkdir -p /usr/src</kbd>
# <kbd>cd /usr/src</kbd>
# <kbd>tar xvfz /tmp/src.tar.gz</kbd>
</pre></blockquote>
<p>
<code>sys.tar.gz</code> contains a source archive starting at <code>/usr/src/sys</code>.
This file contains all the kernel sources you need to rebuild kernels.
To extract:
<blockquote><pre>
# <kbd>mkdir -p /usr/src/sys</kbd>
# <kbd>cd /usr/src</kbd>
# <kbd>tar xvfz /tmp/sys.tar.gz</kbd>
</pre></blockquote>
<p>
Both of these trees are a regular CVS checkout.  Using these trees it
is possible to get a head-start on using the anoncvs servers as
described <a href="anoncvs.html">here</a>.
Using these files
results in a much faster initial CVS update than you could expect from
a fresh checkout of the full OpenBSD source tree.
</section>

<hr>

<section id=ports>
<h3>Ports Tree</h3>
<p>
A ports tree archive is also provided.  To extract:
<blockquote><pre>
# <kbd>cd /usr</kbd>
# <kbd>tar xvfz /tmp/ports.tar.gz</kbd>
</pre></blockquote>
<p>
Go read the <a href="faq/ports/index.html">ports</a> page
if you know nothing about ports
at this point.  This text is not a manual of how to use ports.
Rather, it is a set of notes meant to kickstart the user on the
OpenBSD ports system.
<p>
The <i>ports/</i> directory represents a CVS checkout of our ports.
As with our complete source tree, our ports tree is available via
<a href="anoncvs.html">AnonCVS</a>.
So, in order to keep up to date with the -stable branch, you must make
the <i>ports/</i> tree available on a read-write medium and update the tree
with a command like:
<blockquote><pre>
# <kbd>cd /usr/ports</kbd>
# <kbd>cvs -d anoncvs@server.openbsd.org:/cvs update -Pd -rOPENBSD_7_1</kbd>
</pre></blockquote>
<p>
[Of course, you must replace the server name here with a nearby anoncvs
server.]
<p>
Note that most ports are available as packages on our mirrors. Updated
ports for the 7.1 release will be made available if problems arise.
<p>
If you're interested in seeing a port added, would like to help out, or just
would like to know more, the mailing list
<a href="mail.html">ports@openbsd.org</a> is a good place to know.
</section>
