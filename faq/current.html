<!doctype html>
<html lang=en id=faq>

<title>Following -current and using snapshots</title>
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/faq/current.html">

<h2 id=OpenBSD>
<a href="../index.html">
<i>Open</i><b>BSD</b></a>
Following -current and using snapshots
<small>
<a href="index.html">[FAQ Index]</a>
</small>
</h2>
<hr>

<p>
Active OpenBSD development is known as the
<a href="faq5.html#Flavors">-current</a> branch.
These sources are frequently compiled into releases known as <i>snapshots</i>.

<p>
Aggressive changes are sometimes pushed in this branch, and complications can
arise when building the latest code or upgrading from a previous point in time.
Some of the steps for getting over these hurdles are explained on this page.
Make sure you've read and understand how to
<a href="faq5.html">build the system from source</a> before using -current
and the instructions below.

<p>
In general, it's far easier to use snapshots, as developers will have gone
through much of the trouble for you already.

<p>
You should <b>always</b> use a snapshot as the starting point for running
-current.
This process typically consists of running
<a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> with the
<code>-s</code> flag.
Alternatively, download (and verify) the appropriate
<a href="faq4.html#bsd.rd">bsd.rd</a> file from the <code>/snapshots/</code>
directory of your preferred <a href="../ftp.html">mirror</a>, boot from it,
and choose <code>(U)pgrade</code> at the prompt.
Any installed packages should then be
<a href="faq15.html#PkgUpdate">upgraded</a> after booting into the new system.

<p>
Upgrading to -current by compiling your own source code is discouraged
for everyone except for experts, as difficult build-time crossing-points
can occur often, and no assistance will be provided.  In case of failure,
use a snapshot to recover.

<p>
Most of these changes will have to be performed as root.


<h3 id="r20240424">2024/04/24 - bgpd removal of 'announce capabilities'</h3>

The <code>announce capabilities [yes|no]</code> neighbor config option
needs to be removed from configuration files. 
To replace <code>announce capabilities no</code> one can use:
<blockquote><pre>
announce as-4byte no
announce refresh no
announce restart no
announce policy no
</pre></blockquote>


<h3 id="r20240507">2024/05/07 - smtpd table protocol change</h3>

The <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> table protocol
was changed to
<a href="https://man.openbsd.org/smtpd-tables.7">smtpd-tables(7)</a>.
The old packages <code>opensmtpd-extras</code> should be removed and the
appropriate tables installed from the <code>opensmtpd-table-*</code>
packages.
For example, the passwd table is in the <code>opensmtpd-table-passwd</code>
package.
Once the new tables are installed, no changes to the configuration
are needed.


<h3 id="r20240804">2024/08/04 - [packages] video acceleration (VA-API)</h3>

Some packages (VLC, mpv, FFmpeg) now support hardware video acceleration
and may use it by default if the relevant driver is present.
To use this on supported Intel video hardware, install the
<code>intel-media-driver</code> package.
For AMD hardware, the driver is included in the xbase set so there
is nothing extra to install, but there have been reports of some
problems - if affected, you may need to disable hardware acceleration
in the relevant software. For VLC, go to Settings, Tools, Prefs.,
Input/Codecs, and set "hardware acceleration" to disable.


<h3 id="r20240924">2024/09/24 - sysupgrade simplification</h3>

<a href="https://man.openbsd.org/sysupgrade.8">sysupgrade(8)</a> no longer
tries to guess whether you want to upgrade to a release or a snapshot.
When run without arguments, it looks for a new release.
To tell it to look for a snapshot, use the <code>-s</code> flag.


<!--
     Two blank lines before new sections.
     New sentences start on new lines.
     Try to make lines shorter than 80 characters.
-->

<hr id="end">
<small>$OpenBSD: current.html,v 1.1121 2024/09/25 14:26:46 sthen Exp $</small>
