<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD -current Changelog</title>
<meta name="description" content="OpenBSD -current changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus.html">
<style>
strong {
	color: var(--red);
	font-weight: normal;
}

h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
-current Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="https://marc.info/?l=openbsd-cvs">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus66.html">6.6</a>,
<a href="plus67.html">6.7</a>,
<a href="plus68.html">6.8</a>,
<a href="plus69.html">6.9</a>,
<a href="plus70.html">7.0</a>,
<br>
<a href="plus71.html">7.1</a>,
<a href="plus72.html">7.2</a>,
<a href="plus73.html">7.3</a>,
<a href="plus74.html">7.4</a>.
<br>

<p>
<h3>Changes made between OpenBSD 7.4 and -current</h3>
<p>

<ul>
<!-- 2024/01/04 -->
<li>Fixed <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> IPv6 addresses table lookups.
<li>Added <a href="https://man.openbsd.org/axen.4">axen(4)</a> support for AX88179A and prevented incorrect recording of dummy headers as dropped frames.
<!-- 2024/01/03 -->
<li>Improved <a href="https://man.openbsd.org/vmd.8">vmd(8)</a> error messages when out of tap devices.
<li>Enabled Apple brightness keys for arches other than macppc.
<li>Enabled running <a href="https://man.openbsd.org/connect.2">connect(2)</a> system call in parallel within inet domain.
<li>Relaxed <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> ORCTP syntax validation to allow parameters which are not valid rfc822 addresses.
<!-- 2024/01/02 -->
<li>Updated to <a href="https://github.com/JodaOrg/global-tz">2023dgtz</a>.
<li>Prevented simultaneous <a href="https://man.openbsd.org/dt.4">dt(4)</a> open.
<!-- 2024/01/01 -->
<li>Protected the link between <a href="https://man.openbsd.org/pf.4">pf(4)</a> and inp with mutex. 
<li>Moved fdt attachment into sys/conf/files.conf instead of duplicating it on an MD basis.
<!-- 2023/12/31 -->
<li>Increased i386 <a href="https://man.openbsd.org/login.conf.5">login.conf(5)</a> datasize to 1536MB for running llvm-tblgen.
<li>Added TCP Segmentation Offload (TSO) support for <a href="https://man.openbsd.org/em.4">em(4)</a>.
<!-- 2023/12/30 -->
<li>Set <a href="https://man.openbsd.org/ixl.4">ixl(4)</a> IXL_TX_PKT_DESCS to 8 from 32, which is unnecessary for ixl and could cause interface lockup with oactive.
<li>Fixed <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> device info table entries for So+Hr devices.
<li>Improved the RTKit code from arm64, introducing crashlog and syslog parsing support and fixes needed to bring up the DCP.
<li>Protected <a href="https://man.openbsd.org/em.4">em(4)</a> refill timeout with splnet.
<!-- 2023/12/29 -->
<li>Added a per cpu pool cache for pmap_pv_pool on arm64.
<li>Removed the last users of <a href="https://man.openbsd.org/SSL_set_debug.3">SSL_set_debug(3)</a> in <a href="https://man.openbsd.org/openssl.1">openssl(1)</a> and began removing the API from libssl.
<li>Made <a href="https://man.openbsd.org/lo.4">loopback interface</a> counters MP safe.
<li>Prevented potential kernel crashes when opening a drm device node by checking for validity of the minor and returning ENXIO if invalid. 
<!-- 2023/12/28 -->
<li>Introduced <a href="https://man.openbsd.org/qwx.4">qwx(4)</a>, a work-in-progress port of the Linux ath11k driver.
<li>Fixed Tx watchdog trigger and freeze in <a href="https://man.openbsd.org/dwqe.4">dwqe(4)</a>.
<li>Made <a href="https://man.openbsd.org/eephy.4">eephy(4)</a> assume of RGMII-to-Copper mode by default for 88E151x PHYs.
<li>Added <a href="https://man.openbsd.org/aplpcie.4">aplpcie(4)</a> stream ID mapping support for the PCIe controller found on M2 Pro/Max SoCs.
<!-- 2023/12/27 -->
<li>Removed flags from the prefix before comparing with the received key so that <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> modifier keys with flags work correctly.
<li>Corrected <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> handling of window ops with no pane.
<li>Fixed <a href="https://man.openbsd.org/rsync.1">rsync(1)</a> handling of skipped elements on the very first element transmitted.
<li>Added 'pax' format support for mtime and atime to <a href="https://man.openbsd.org/tar.1">tar(1)</a>.
<!-- 2023/12/26 -->
<li>Prevented <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> from accepting empty delta elements.
<li>Improved handling of SError interrupts on arm64.
<!-- 2023/12/25 -->
<!-- 2023/12/24 -->
<!-- 2023/12/23 -->
<li>Rewrote <a href="https://man.openbsd.org/dev_mkdb.8">dev_mkdb(8)</a> with FTS, adding support for the devices in nested directories.
<li>Relaxed <a href="https://man.openbsd.org/ftp.1">ftp(1)</a> -C pledge to unbreak shelling out in interactive mode.
<li>Updated to perl 5.36.3.
<li>Added <a href="https://man.openbsd.org/apldart.4">apldart(4)</a> support for "locked" DARTs.
<!-- 2023/12/22 -->
<li>Added 'pax' format support for files over 8GB to <a href="https://man.openbsd.org/tar.1">tar(1)</a>. 
<!-- 2023/12/21 -->
<li>Updated <a href="https://man.openbsd.org/rge.4">rge(4)</a> microcode, initialization and reset behavior.
<li>Added support for new TEMPerGOLD sensor to <a href="https://man.openbsd.org/ugold.4">ugold(4)</a>.
<!-- 2023/12/20 -->
<li>Added <a href="https://man.openbsd.org/strnstr.9">strnstr(9)</a> string search within character limit.
<li>Updated to nsd 4.8.0.
<li>Prevented creation of an <a href="https://man.openbsd.org/sd.4">sd(4)</a> larger than what the namespace will allow.
<li>Added checksum offloading for TCP/UDP in IPv7 packets to <a href="https://man.openbsd.org/vio.4">vio(4)</a>.
<li>Ensured that <a href="https://man.openbsd.org/iwm.4">iwm(4)</a>/<a href="https://man.openbsd.org/iwx.4">iwx(4)</a> devices announce VHT capabilities in probe requests.
<!-- 2023/12/19 -->
<li>Added a <a href="https://man.openbsd.org/malloc.3">malloc(3)</a> type for <a href="https://man.openbsd.org/pinsyscall.2">pinsyscall(2)</a> arrays.
<li>Added display of the RTR protocol version in the <a href="https://man.openbsd.org/bgpctl.8">bgpctl(8)</a> 'show rtr' output.
<!-- 2023/12/18 -->
<li>Released <a href="https://www.openssh.com/releasenotes.html">OpenSSH 9.6</a>.
<li>Made <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a> record failed session-bind attempts and refuse signing operations on that connection henceforth.
<li>Banned user/hostnames provided to <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> on the commandline that contain most shell metacharacters.
<li>Made <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> and <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> more strict in handling non-compliant peers that send more data than the advertised channel window allows.
<li>Made it possible to specify certificates when loading PKCS#11 keys in <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a>.
<li>Implemented "strict key exchange" in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> and <a href="https://man.openbsd.org/sshd.8">sshd(8)</a>.
<li>Fixed race between <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> destroy and ARP timer.
<li>Enabled running <a href="https://man.openbsd.org/bind.2">bind(2)</a> system call in parallel.
<!-- 2023/12/17 -->
<!-- 2023/12/16 -->
<li>Introduced 'fd_lock' <a href="https://man.openbsd.org/rwlock.9">rwlock(9)</a> and used it for 'fd_fbufs_in' <a href="https://man.openbsd.org/fuse.4">fuse(4)</a> buffers queue and 'fd_rklist' knotes list protection.
<li>Reworked pflowioctl() lock handling to reduce breaking atomicity.
<!-- 2023/12/15 -->
<li>Moved non-daemon services to run in a different <a href="https://man.openbsd.org/rc.8">rc(8)</a> process group to avoid SIGHUP at boot.
<li>Added <a href="https://man.openbsd.org/ktrace.1">ktrace(1)</a> and <a href="https://man.openbsd.org/kdump.1">kdump(1)</a> support to observe <a href="https://man.openbsd.org/pinsyscall.2">pinsyscall(2)</a> violations.
<li>Changed <a href="https://man.openbsd.org/ftp.1">ftp(1)</a> to avoid use of the interactive shell if -o is given.
<li>Synced loongson login class limits with octeon.
<!-- 2023/12/14 -->
<li>For amd64 cdXX.iso and installXX.iso, created an EFI system partition image containing the EFI boot loaders to be installed as an El Torito boot image, making the install CDs bootable in EFI mode.
<li>Used the inpcb table mutex to set addresses, protecting all remaining write access to inp_faddr and inp_laddr.
<li>Added a workaround for clang which has a broken -fno-zero-initialized-in-bss implementation.
<li>Changed the default logic to set nkmempages to use physical memory / 4 for up to 1G physmem, and add an extra 16MB per 1G of memory additional. Clamped this down depending on available kernel virtual address space.
<li>Made <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> IP address block checks stricter.
<!-- 2023/12/13 -->
<li>Adapted arm64 implementation of per-CPU caching for the page table page (vp) pool and the PTE descriptor (pted) pool to the riscv64 pmap implementation.
<li>Fixed syscall number bounds check computations.
<li>Imposed constraints on RPKI Trust Anchors.
<!-- 2023/12/12 -->
<li>When invoking <a href="https://man.openbsd.org/ssh_config.5">ssh_config(5)</a> KnownHostsCommand to determine the order of host key algorithms to request, ensure that the hostname passed to the command is decorated with the port number for ports other than 22.
<li>Dropped <a href="https://man.openbsd.org/ftp.1">ftp(1)</a> -o '' support.
<li>Put <a href="https://man.openbsd.org/pinsyscalls.2">pinsyscalls(2)</a> into the <a href="https://man.openbsd.org/pledge.2">pledge(2)</a> "always" group.
<li>Extended <a href="https://man.openbsd.org/imsg_init.3">imsg</a> and <a href="https://man.openbsd.org/ibuf_add.3">ibuf</a> API with useful getter methods.
<li>Created a duplicate entry for <a href="https://man.openbsd.org/kbind.2">kbind(2)</a> (which self-protects) to force the kernel's <a href="https://man.openbsd.org/pinsyscall.2">pinsyscall(2)</a> code to skip validation, rather than labelling it illegal.
<li>Removed support for <a href="https://man.openbsd.org/syscall.2">syscall(2)</a>, the "indirection system call," a dangerous alternative entry point for all system calls and incompatible with the precision system call entry point scheme we are heading towards.
<!-- 2023/12/11 -->
<li>Turned 'pflowstats' statistics counters into per-CPU counters to make them mpsafe.
<li>Ensured the syscall table entries for libc and ld.so are aligned on a 4-byte boundary.
<li>Implemented per-CPU caching for the page table page (vp) pool and the PTE descriptor (pted) pool in the arm64 pmap implementation. This significantly reduces the side-effects of lock contention on the kernel map lock and leads to significant speedups on machines with many CPU scores.
<li>Synchronized datasize-cur limit for staff with the default class on armv7/i386/loongson/macppc/sparc64.
<li>Added an <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> log warning when a manifest replay is detected and when the same manifestNumber is recycled across multiple issuances of that manifest.
<li>Turned 'pflow_softc' list into SMR list.
<!-- 2023/12/10 -->
<li>Introduced <a href="https://man.openbsd.org/ampchwm.4">ampchwm(4)</a>, a driver to access the Ampere Altra Fine-Grained Power Telemetry.
<li>Added accounting flag and <a href="https://man.openbsd.org/lastcomm.1">lastcomm(1)</a> report for syscall pinning violations.
<li>Added a step to flush EPTs after enabling VMX mode in <a href="https://man.openbsd.org/vmm.4">vmm(4)</a>.
<li>Added a new label "sigcodecall" inside every sigtramp definition, used to caculate the start of the syscall for SYS_sigreturn and pinned system calls.
<li>Populated the non-LOAD openbsd.syscalls section (and PT_OPENBSD_SYSCALL) with {uint offset, uint syscall#} entries in libc and ld.so.
<!-- 2023/12/09 -->
<li>Fixed support for devices that attach multiple <a href="https://man.openbsd.org/uaudio.4">uaudio(4)</a> drivers.
<li>Added basic write support for <a href="https://man.openbsd.org/pax.1">pax(1)</a> format archives.
<li>Fixed <a href="https://man.openbsd.org/sndiod.8">sndiod(8)</a> server abort after wrong call to slot->ops->exit().
<li>Added recv TCP/UDP checksum offloading to <a href="https://man.openbsd.org/vio.4">vio(4)</a>.
<!-- 2023/12/08 -->
<li>After a failed fetch, made <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> use a previously cached and valid RPKI Manifest.
<li>Introduced 'sc_mtx' <a href="https://man.openbsd.org/mutex.9">mutex(9)</a> to protect most of the pflow_softc structure.
<li>Ensured TIB_INIT correctly initializes tib_thread_flags.
<li>Collected .openbsd.syscalls sections into a new PT_OPENBSD_SYSCALLS segment, used to pin system calls to designated call sites.
<!-- 2023/12/07 -->
<li>Added new TEMPerHUM sensor to <a href="https://man.openbsd.org/ugold.4">ugold(4)</a>.
<li>Added inpcb table mutex protecting addr and port during <a href="https://man.openbsd.org/bind.2">bind(2)</a> and <a href="https://man.openbsd.org/connect.2">connect(2)</a>.
<li>Added services entries for Matter, a protocol for discovery and comms with "smart home"/IoT devices which runs over TCP or UDP over v6 over various physical/network layers.
<!-- 2023/12/06 -->
<!-- 2023/12/05 -->
<li>Protected the socket receive buffer in IP multicast routing.
<li>Made <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> reject headers that start with a space or tab.
<li>Removed <a href="https://man.openbsd.org/eephy.4">eephy(4)</a> "disable auto-negotiation" workaround for Marvell Alaska PHYs.
<!-- 2023/12/04 -->
<li>Protected access to the gnu warning map with a mutex to avoid random crashes.
<li>Made <a href="https://man.openbsd.org/malloc.3">malloc(3)</a> save backtraces to show in leak dump with depth of backtrace set via malloc option D (aka 1), 2, 3 or 4.
<!-- 2023/12/03 -->
<li>Made <a href="https://man.openbsd.org/uthum.4">uthum(4)</a> TEMPer{1,2} devices display minus degC.
<li>Enabled <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> DSN (delivery status notification) for the implicit socket and an <a href="https://man.openbsd.org/smtpd.conf.5">smtpd.conf(5)</a> 'no-dsn' option for "listen on socket".
<li>Made rtm_senddesync_timer() <a href="https://man.openbsd.org/timeout.9">timeout(9)</a> handler mpsafe.
<li>Made ipsp_ids_gc() <a href="https://man.openbsd.org/timeout.9">timeout(9)</a> handler mpsafe.
<!-- 2023/12/02 -->
<li>Fixed <a href="https://man.openbsd.org/virtio.4">virtio(4)</a> handling of feature bits >= 32.
<!-- 2023/12/01 -->
<li>The <a href="https://man.openbsd.org/pipex.4">pipex(4)</a> layer is completely mp-safe, so moved the pipex_timer() <a href="https://man.openbsd.org/timeout.9">timeout(9)</a> handler out of kernel lock.
<li>Ensured read of a complete struct fsinfo even if the filesystem sectors are smaller.
<li>Prevented a <a href="https://man.openbsd.org/pf.4">pf(4)</a> race between pf_test() and pf_purge_expired_states().
<li>Allowed <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> to parse tables and filter listing over multiple lines.
<!-- 2023/11/30 -->
<li>Overhauled <a href="https://man.openbsd.org/ugold.4">ugold(4)</a> device identification logic and added support for additional devices.
<!-- 2023/11/29 -->
<li>Unlocked the <a href="https://man.openbsd.org/bind.2">bind(2)</a> syscall.
<li>Changed to running TCP syn cache timer without kernel lock.
<li>Deferred <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> relay_read_http header parsing until after line continuation, preventing potential request smuggling attacks.
<!-- 2023/11/28 -->
<li>Added <a href="https://man.openbsd.org/mpii.4">mpii(4)</a> support for new SAS HBAs (codenamed Aero and Sea, sold as Broadcom HBA 9500, Dell HBA350/5, Lenovo ThinkSystem 440 HBA, Supermicro AOC-S3808/16), which shared a hardware problem resulting in reads of some registers returning all zeros under transient conditions.
<li>Increased the number of address ranges in acpi attach args from 4 to 8.
<li>Updated <a href="https://man.openbsd.org/awk.1">awk(1)</a> to the Nov 27, 2023 version.
<li>Tightened up <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> header parsing.
<!-- 2023/11/27 -->
<li>Avoided a <a href="https://man.openbsd.org/ypbind.8">ypbind(8)</a> crash when no default domain is set.
<li>Implemented <a href="https://man.openbsd.org/rsync.1">rsync(1)</a> --omit-link-times (-J) option to omit symlinks from --times.
<li>Added <a href="https://man.openbsd.org/rsync.1">rsync(1)</a> --no-O and --no-omit-dir-times options for compatibility.
<!-- 2023/11/26 -->
<li>Added arm64 bti pads for range extension thunks.
<li>Fixed perl read/write past buffer end.
<!-- 2023/11/25 -->
<li>Fixed oslog support and arm64 booting with newer firmware such as that currently installed by the Asahi installer.
<li>Updated <a href="https://man.openbsd.org/awk.1">awk(1)</a> to the Nov 24, 2023 version.
<li>Allowed <a href="https://man.openbsd.org/dhcpleased.8">dhcpleased(8)</a> to request "IPv6-only preferred" and deconfigure IPv4 on the interface if the server replies with this option.
<!-- 2023/11/24 -->
<li>Fixed <a href="https://man.openbsd.org/vmm.4">vmm(4)</a> memory scribbling by updating GDTR/TR if vcpu moves.
<!-- 2023/11/23 -->
<li>Required <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> files to be at least 100 bytes minimum in the RRDP and RSYNC transports.
<li>Added <a href="https://man.openbsd.org/rsync.1">rsync(1)</a> --omit-dir-times (-O) to omit directories from --times.
<!-- 2023/11/22 -->
<li>Added an <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> endpoint command for "bridges" that use addresses as endpoints, usable to add static entries on interfaces like <a href="https://man.openbsd.org/vxlan.4">vxlan(4)</a>.
<li>Added <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> support for specifying ports on the src address in tunnel endpoints.
<li>Added operating performance point info about each arm64 cpu via <a href="https://man.openbsd.org/kstat.1">kstat(1)</a>.
<li>Exposed the states of thermal zones as <a href="https://man.openbsd.org/kstat.1">kstats(1)</a>.
<li>Fixed race when initializing TSC.
<li>Added <a href="https://man.openbsd.org/wskbd.4">wskbd(4)</a> support for keyboard backlight hotkeys and hooked up macppc Apple keyboards.
<li>Added support for keyboard backlights on Apple Powerbooks.
<li>Made <a href="https://man.openbsd.org/dhcp-options.5">dhcp-options(5)</a> recognize option ipv6-only-preferred (RFC8925).
<!-- 2023/11/21 -->
<li>Prevented <a href="https://man.openbsd.org/ftp.1">ftp(1)</a> dropping into the "ftp> " shell when piping to stdout.
<li>Updated <a href="https://man.openbsd.org/awk.1">awk(1)</a> to the Nov 20, 2023 version.
<li>Prevented short-circuiting of localhost resolution when AI_NUMERICHOST is set.
<li>Added <a href="https://man.openbsd.org/mkhybrid.8">mkhybrid(8)</a> '-e' (-eltorito-boot-efi) option for writing an EFI eltorito boot image, in addition to or instead of the x86 boot image, to the output file.
<!-- 2023/11/20 -->
<li>Prevented erroring out when .gcc_except_table relocs point at discarded sections, allowing fortran ports and others to build on riscv64.
<!-- 2023/11/19 -->
<li>Changed to only enable BTI and PAC by default on arm64.
<li>Disabled LOAD_STACK_GUARD on OpenBSD/armv7.
<!-- 2023/11/18 -->
<li>Prevented <a href="https://man.openbsd.org/exit.2">exit(2)</a> from being called by a crt0 helper function with no debugging information by aborting instead.
<!-- 2023/11/17 -->
<li>Built and installed tzdata.zi and leap-seconds.list, now expected by third-party software.
<li>Corrected renewal of expired certificates in <a href="https://man.openbsd.org/iked.8">iked(8)</a>.
<!-- 2023/11/16 -->
<li>Switched to using <a href="https://man.openbsd.org/tset.1">tset(1)</a> -I for all terminals, not just xterm.
<li>Increased mips64 MAXTSIZ and octeon login class limits to accommodate llvm-16.
<li>Improved <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> CRL extension checking.
<li>Made <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> treat an MX of "localhost" as if it were a "Null MX".
<!-- 2023/11/15 -->
<li>Made <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> filter addresses by AddressFamily when connecting by socket if one was specified.
<li>Enabled <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> keystroke timing obfuscation as an option only when a channel with a tty is open.
<li>Ensured correct denominators when converting NTP fixed point values to double and vice-versa in <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a>.
<!-- 2023/11/14 -->
<li>Improved <a href="https://man.openbsd.org/fw_update.1">fw_update(1)</a> output on errors and improved ftp error handling.
<li>Made <a href="https://man.openbsd.org/grep.1">grep(1)</a> -m behavior match GNU grep.
<!-- 2023/11/13 -->
<li>Raised i386's datasize for the 'daemon' class to 1500M for llvm-16.
<li>Removed libcsi (for now).
<li>Enabled UDF on arm64 install media.
<li>Bumped datasize for staff in riscv64 to match amd64.
<li>Eliminated the <a href="https://man.openbsd.org/timegm.3">timegm(3)</a> dependency in libcrypto.
<!-- 2023/11/12 -->
<li>Bumped armv7 MAXDSIZ to 2G for llvm-16.
<li>Fixed parsing of branch target protection options on arm64 to enable BTI and PAC again by default.
<li>Stopped attempting to modify route info sockaddr in rtm_addrs().
<li>Bumped amd64/arm64/sparc64/riscv64/armv7/powerpc64 datasizes to 1536M for the default login class to accommodate building llvm-16.
<li>Added <a href="https://man.openbsd.org/fanpwr.4">fanpwr(4)</a> support for the Rockchip RK8602 and RK8603 voltage regulators.
<!-- 2023/11/11 -->
<li>Updated to llvm 16.0.6 including clang, lld, and lldb, and updated build infrastructure.
<li>Enabled CD9660 in arm64 RAMDISK to allow CD-ROM mounting.
<li>Corrected wrong register offset macros for <a href="https://man.openbsd.org/dwqe.4">dwqe(4)</a> DMA burst length.
<!-- 2023/11/10 -->
<li>Added group handling matching <a href="https://man.openbsd.org/fbtab.5">fbtab(5)</a> to xenodm.
<li>Prevented <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> 'flag' from altering other GPT partition attributes when flagging a partition as the only bootable partition.
<li>Made ifq and ifiq interfaces mpsafe.
<li>Enhanced <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> 'flag' to accept hex values.
<li>Allowed <a href="https://man.openbsd.org/ps.1">ps(1)</a> to accept numerical user IDs.
<li>Made <a href="https://man.openbsd.org/iked.8">iked(8)</a> always prefer group from the initial KE payload as responder if supported.
<!-- 2023/11/09 -->
<li>Switched to running arp timeout without kernel lock.
<li>Tightened <a href="https://man.openbsd.org/pax.1">pax(1)</a> <a href="https://man.openbsd.org/pledge.2">pledge(2)</a> in List and Append modes.
<li>In <a href="https://man.openbsd.org/pflogd.8">pflogd(8)</a>, avoid restartable syscalls with siginterrupt() against all our handlers.
<li>Added <a href="https://man.openbsd.org/kdump.1">kdump(1)</a> [-p program] to filter dumps by basename.
<li>Eliminated the ioctl whitelist that <a href="https://man.openbsd.org/bio.4">bio(4)</a> will tunnel for other devices, allowing bio to be used with other (non-raid) related devices.
<li>Prevented <a href="https://man.openbsd.org/vmctl.8">vmctl(8)</a> abort when given an invalid "kernel" file.
<!-- 2023/11/08 -->
<li>Increased i386 NKMEMPAGES_MAX_DEFAULT to the same value as on amd64.
<li>In <a href="https://man.openbsd.org/xbf.4">xbf(4)</a>, allowed Xen to use backing store devices with 4K-byte sectors.
<li>Implemented RFC 7505 ("Null MX") handling in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<!-- 2023/11/07 -->
<!-- 2023/11/06 -->
<li>Provided machine/apmvar.h on riscv64 for ports support.
<li>Avoided using MCS9 in <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> Tx rate selection if 40MHz is disabled, fixing a firmware panic in 20MHz mode.
<li>Updated to Perl Term::Cap 1.18.
<!-- 2023/11/05 -->
<li>Added loongson cdXX.iso to MDEXT for it to be included in SHA256.
<!-- 2023/11/04 -->
<!-- 2023/11/03 -->
<li>Fixed <a href="https://man.openbsd.org/vmd.8">vmd(8)</a> block size calculation for vioscsi devices.
<!-- 2023/11/02 -->
<li>Added check to ensure <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> -f won't accept a directory and install an empty ruleset.
<!-- 2023/11/01 -->
<li>Updated to Mesa 23.1.9.
<!-- 2023/10/31 -->
<li>Added support for <a href="https://man.openbsd.org/cksum.1">cksum(1)</a> -c checking base64 digests in reverse mode.
<!-- 2023/10/30 -->
<li>Updated <a href="https://man.openbsd.org/awk.1">awk(1)</a> to Oct 30, 2023 version.
<li>Prevented <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> use of combined UTF-8 characters that are too long.
<li>Adjusted KERNEL_ASSERT_UNLOCKED() to not assert during a panic.
<!-- 2023/10/29 -->
<li>Made gnu99 the default for gcc 3.3.6 and 4.2.1 rather than defaulting to gnu89.
<li>Updated to libXrandr 1.5.4.
<li>Updated to xserver 21.1.9.
<li>Updated to xorgproto 2023.2.
<li>Enabled ISO C11 APIs when building libc, even with an older compiler, to ensure needed prototypes are visible.
<li>Dropped <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> and <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> mentions of ssl, long changed to tls. Removed mention of SSL/TLS in favor of TLS.
<!-- 2023/10/28 -->
<li>Fixed <a href="https://man.openbsd.org/awk.1">awk(1)</a> buffer overflow with utf-8 strings.
<!-- 2023/10/27 -->
<li>Forwarded TCP LRO disabling to parent devices and disabled TCP LR0 on bridged <a href="https://man.openbsd.org/vlan.4">vlan(4)</a> and default for <a href="https://man.openbsd.org/bpe.4">bpe(4)</a>, <a href="https://man.openbsd.org/nvgre.4">nvgre(4)</a> and <a href="https://man.openbsd.org/vxlan.4">vxlan(4)</a>.
<li>Made out-of-swap checking more robust, preventing potential deadlocks.
<!-- 2023/10/26 -->
<li>Constructed EFI bootable cdXX.iso and installXX.iso files for arm64.
<!-- 2023/10/25 -->
<li>Fixed <a href="https://man.openbsd.org/unveil.2">unveil(2)</a> in <a href="https://man.openbsd.org/patch.1">patch(1)</a> with explicit patchfile.
<li>Stopped toggling irq deassert for edge triggered devices in <a href="https://man.openbsd.org/vmd.8">vmd(8)</a>.
<li>Made <a href="https://man.openbsd.org/vscsi.4">vscsi(4)</a> 'vscsi_filtops' mpsafe and extended the 'sc_state_mtx' <a href="https://man.openbsd.org/mutex.9">mutex(9)</a> to protect 'sc_klist' knotes list.
<li>Fixed several input validation errors in the X server.
<!-- 2023/10/24 -->
<li>Imported regenerated moduli.
<li>Made snmptop work with <a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a>.
<li>Added an installer fallback IPv6 addres for ftplist1.openbsd.org.
<li>Made three context switches machine-independent: when a process forks and the new proc needs to be scheduled by proc_trampoline, cpu_hatch: when booting APs, and sched_exit: when a proc exits.
<li>Added <a href="https://man.openbsd.org/evp.3">evp(3)</a> chacha aliases for OpenSSL compatibility.
<li>Made <a href="https://man.openbsd.org/umb.4">umb(4)</a> delete any existing v4 address before setting a new one, allowing keeping of a working default route when the address changes.
<li>Removed <a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a> filter-pf-addresses.
<!-- 2023/10/23 -->
<li>Created __OpenBSD versions of llvm cxa guard implementation using futex() with the correct number of arguments and without using <a href="https://man.openbsd.org/syscall.2">syscall(2)</a>.
<li>Prevented <a href="https://man.openbsd.org/wg.4">wg(4)</a> getting stuck on peer destruction.
<li>Made <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> unzoom a window at the start of destroy so it doesn't happen later after the layout has been freed.
<!-- 2023/10/22 -->
<li>Fixed <a href="https://man.openbsd.org/radiusd.8">radiusd(8)</a> to fixup MPPE-{Send,Recv}-Key and Tunnel-Password attributes of the response properly.
<li>When option D is active in malloc(3)</a>, store callers for all chunks, avoiding the 0x0 call sites for leak reports.
<!-- 2023/10/21 -->
<li>Ignored wide channel configs not appearing in the 802.11ac spec.
<li>Ensured that <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> uses the 80Mhz primary channel index announced in beacons.
<!-- 2023/10/20 -->
<li>Adopted MI re-upgrade prevention on octeon and powerpc64.
<li>Moved to 7.4-stable.
<!-- 2023/10/19 -->
<li>Added counting of dropped UDP packets to <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a>.
<li>Added experimental support for secp256r1 aka P-256 aka prime256v1 to <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>.
<li>Enabled TCP segmentation offloading for <a href="https://man.openbsd.org/ixl.4">ixl(4)</a>.
<li>Added IBM encoded version of the "Spleen 8x16" font.
<!-- 2023/10/18 -->
<li>Added support to encrypt the root disk with a key disk in the installer.
<li>Added forcible read-only mounting of a dirty powerpc64 or octeon filessystem.
<!-- 2023/10/17 -->
<li>Increased max depth for Perl termcaps.
<li>Grew arm64 iso media space.
<li>Updated libXpm to version 3.5.17.
<li>Updated ncurses and associated libraries (form, panel, menu) to 6.4-20230826.
<!-- 2023/10/16 -->
<li>Improved IPv6 link-local address handling in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>.
<!-- 2023/10/15 -->
<li>Deprecated <a href="https://man.openbsd.org/audio.9">audio(9)</a> start_{output,input}.
<!-- 2023/10/14 -->
<li>Made <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a> verify but not overwrite SHA256.sig.
<!-- 2023/10/13 -->
<li>Added <a href="https://man.openbsd.org/sxipio.4">sxipio(4)</a> Allwinner D1 support.
<li>Allowed <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> imposition of constraints on RPKI trust anchors.
<!-- 2023/10/12 -->
<li>Made <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> retry DNS lookups for remote loghost if not working upon startup.
<li>Ensured <a href="https://man.openbsd.org/pflog.4">pflog(4)</a> logs malformed packets dropped by the default rule as block.
<li>Added a TIMEOUT_MPSAFE flag to <a href="https://man.openbsd.org/timeout.9">timeout(9)</a>.
<li>Added <a href="https://man.openbsd.org/bt.5">bt(5)</a> and <a href="https://man.openbsd.org/btrace.8">btrace(8)</a> support for binary modulo operator ('%').
<li>Fixed a <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> fatal error when "announce add-path send all" is used.
<li>Removed default sets answer in <a href="https://man.openbsd.org/autoinstall.8">autoinstall(8)</a> response file such that it now populates only with non-defaults.
<!-- 2023/10/11 -->
<li>Added <a href="https://man.openbsd.org/ssh_config.5">ssh_config(5)</a> ChannelTimeout support to the client, mirroring the same option in the server.
<li>Added support for reading ED25519 private keys in PEM PKCS8 format.
<li>Added initial support for Elkhart Lake ethernet to <a href="https://man.openbsd.org/dwqe.4">dwqe(4)</a>.
<!-- 2023/10/10 -->
<li>Prevented <a href="https://man.openbsd.org/pf.4">pf(4)</a> from passing packets if state cannot be created.
<li>Fixed handling of non-transitive ex-communities to prevent termination by peer in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>.
<!-- 2023/10/09 -->
<li>Added recognition for GICv4 in the MADT, configuring it as arm,gic-v3.
<li>Made <a href="https://man.openbsd.org/bwfm.8">bwfm(8)</a> handle an arbitrary number of D11 cores and only disable them instead of doing a full reset.
<li>Added Message-Id as needed in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> for messages received on the submission port.
<li>Added <a href="https://man.openbsd.org/pledge.2">pledge(2)</a> stdio before parsing pfkey messages to <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> -m and -s.
<!-- 2023/10/08 -->
<!-- 2023/10/07 -->
<li>Added <a href="https://man.openbsd.org/bioctl.8">bioctl(8)</a> retry on empty passphrase.
<li>Improved <a href="https://man.openbsd.org/ls.1">ls(1)</a> horizontal alignment in long format.
<li>Silenced list of specific firmware not needing update in <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a>.
<!-- 2023/10/06 -->
<li>Updated <a href="https://man.openbsd.org/awk.1">awk(1)</a> to Sep 24, 2023 version.
<li>Ignored thermal dual-chain requests from <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> firmware to silence warnings.
<!-- 2023/10/05 -->
<li>Introduced <a href="https://man.openbsd.org/dhcpd.8">dhcpd(8)</a> log output to stderr and '-v' option to make this output more verbose.
<!-- 2023/10/04 -->
<li>Moved to 7.4-current.
</ul>
