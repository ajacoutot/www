<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD -current Changelog</title>
<meta name="description" content="OpenBSD -current changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus.html">
<style>
strong {
	color: var(--red);
	font-weight: normal;
}

h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
-current Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="https://marc.info/?l=openbsd-cvs">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus66.html">6.6</a>,
<a href="plus67.html">6.7</a>,
<a href="plus68.html">6.8</a>,
<a href="plus69.html">6.9</a>,
<a href="plus70.html">7.0</a>.
<br>

<p>
<h3>Changes made between OpenBSD 7.0 and -current</h3>
<p>

<ul>
<!-- 2021/10/12 -->
<li>Reverted to use <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> firmware v17 on Intel AC 7265, fixing instability issues on X1 Carbon gen3.
<li>Cached the old BSSID when roaming with <a href="https://man.openbsd.org/iwx.4">iwx(4)</a>.
<li>Explicitly stopped <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> Rx block ack when roaming between access points.
<!-- 2021/10/11 -->
<li>Added support for 802.11n 40MHz channels to the <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> driver.
<li>Added monitoring of 20/40MHz channel width changes in beacons sent by our access point, notifying drivers when the channel width has changed.
<!-- 2021/10/10 -->
<li>Added support for 40MHz channels to net80211 RA.
<li>Fixed establishing legacy INTx interrupts on machines without a (usable) MSI interrupt controller.
<!-- 2021/10/09 -->
<li>Merged bugfixes from upstream into <a href="https://man.openbsd.org/less.1">less(1)</a> including fixes for the prompt hiding feature (CTRL-P) and an integer overflow.
<!-- 2021/10/08 -->
<!-- 2021/10/07 -->
<li>Cached the old BSSID when roaming with <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> so firmware commands can continue using it while roaming to a new AP.
<!-- 2021/10/06 -->
<li>Stopped <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> from communicating warnings starting with "XXX" which appeared to indicate errors.
<li>Ensured <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> uses only the HT (high throughput) frame format for data frames.
<li>Allowed AUTH->AUTH state transitions in the <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> and <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> drivers again, needed if the access point uses band-steering.
<li>Removed the <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> autoconfprivacy deprecation warning.
<!-- 2021/10/05 -->
<li>Retired the Loongson platform.
<li>Fixed <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> performance drop after roaming between APs in 11n mode.
<!-- 2021/10/04 -->
<li>Applied a workaround in <a href="https://man.openbsd.org/mvkpcie.4">mvkpcie(4)</a> to fix an external abort under load with <a href="https://man.openbsd.org/athn.4">athn(4)</a>.
<!-- 2021/10/03 -->
<li>Added relicensed wireless firmwares from Realtek for <a href="https://man.openbsd.org/rsu.4">rsu(4)</a>, <a href="https://man.openbsd.org/rtwn.4">rtwn(4)</a> and <a href="https://man.openbsd.org/urtwn.4">urtwn(4)</a> devices, allowing these devices to work without requiring a separate firmware download.
<li>Added a workaround for buggy <a href="https://man.openbsd.org/athn.4">athn(4)</a> devices to prevent filling up the node cache when used in hostap mode.
<!-- 2021/10/02 -->
<li>Made redistributable firmwares available across all architectures.
<li>Fixed memory leak in <a href="https://man.openbsd.org/fuse.4">fuse(4)</a> when calling <a href="https://man.openbsd.org/namei.9">namei(9)</a>.
<li>Fixed a panic when <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> cannot find firmware at boot time.
<!-- 2021/10/01 -->
<li>Released LibreSSL <a href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-3.3.5-relnotes.txt">3.3.5</a> and <a href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-3.2.7-relnotes.txt">3.2.7</a>.
<!-- 2021/09/30 -->
<li>Enabled X509_V_FLAG_TRUSTED_FIRST by default in the legacy verifier.
<li>Deleted expired DST Root CA X3.
<li>Prevented <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> and <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> attempts to transition toward the same state where this would result in a redundant or illegal state transition and a potential hang.
<!-- 2021/09/29 -->
<li>Removed the constraint that <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> -b specified block count or block size must be greater than 63.
<li>Added support to <a href="https://man.openbsd.org/pchgpio.4">pchgpio(4)</a> for Cannon Lake H and Tiger Lake H platforms.
<!-- 2021/09/28 -->
<!-- 2021/09/27 -->
<li>Fixed a crash in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> when a session with multiple clients is destroyed but tmux does not close completely due to other sessions.
<!-- 2021/09/26 -->
<!-- 2021/09/25 -->
<li>Introduced <a href="https://man.openbsd.org/gpiocharger.4">gpiocharger(4)</a>, a driver providing support for battery chargers connected to GPIO pins, such as those found on the Pinebook Pro.
<li>Introduced <a href="https://man.openbsd.org/gpioleds.4">gpioleds(4)</a> for arm64, a driver providing support for LEDs connected to GPIO pins, such as those found on the Pinebook Pro.
<!-- 2021/09/24 -->
<li>Reset the Tx timer upon validation of a BA notification sent by <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> and <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> firmware.
<!-- 2021/09/23 -->
<li>Added support to <a href="https://man.openbsd.org/umb.4">umb(4)</a> for SIMCom SIM7600.
<li>Released <a href="https://man.openbsd.org/rpki-client.8">rpki-client</a> 7.3.
<li>Removed wpath from <a href="https://man.openbsd.org/less.1">less(1)</a> secure mode pledge.
<li>Added <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> Tx aggregation support.
<li>Added an ADDBA_OFFLOAD capability for wifi devices to manage Tx block ack sessions entirely in firmware.
<li>Released <a href="https://man.openbsd.org/bgpd.8">OpenBGPD</a> 7.2.
<!-- 2021/09/22 -->
<li>Cleared length of keys in <a href="https://man.openbsd.org/vnconfig.8">vnconfig(8)</a> alongside keys themselves.
</ul>
