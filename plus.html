<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD -current Changelog</title>
<meta name="description" content="OpenBSD -current changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus.html">
<style>
strong {
	color: var(--red);
	font-weight: normal;
}

h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
-current Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="https://marc.info/?l=openbsd-cvs">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus66.html">6.6</a>,
<a href="plus67.html">6.7</a>,
<a href="plus68.html">6.8</a>,
<a href="plus69.html">6.9</a>,
<a href="plus70.html">7.0</a>,
<a href="plus71.html">7.1</a>.
<br>

<p>
<h3>Changes made between OpenBSD 7.1 and -current</h3>
<p>

<ul>
<!-- 2022/08/31 -->
<!-- 2022/08/30 -->
<!-- 2022/08/29 -->
<!-- 2022/08/28 -->
<!-- 2022/08/27 -->
<!-- 2022/08/26 -->
<!-- 2022/08/25 -->
<!-- 2022/08/24 -->
<!-- 2022/08/23 -->
<!-- 2022/08/22 -->
<!-- 2022/08/21 -->
<!-- 2022/08/20 -->
<!-- 2022/08/19 -->
<!-- 2022/08/18 -->
<!-- 2022/08/17 -->
<!-- 2022/08/16 -->
<!-- 2022/08/15 -->
<!-- 2022/08/14 -->
<!-- 2022/08/13 -->
<!-- 2022/08/12 -->
<!-- 2022/08/11 -->
<!-- 2022/08/10 -->
<!-- 2022/08/09 -->
<!-- 2022/08/08 -->
<!-- 2022/08/07 -->
<!-- 2022/08/06 -->
<!-- 2022/08/05 -->
<!-- 2022/08/04 -->
<!-- 2022/08/03 -->
<!-- 2022/08/02 -->
<!-- 2022/08/01 -->
<!-- 2022/07/31 -->
<!-- 2022/07/30 -->
<!-- 2022/07/29 -->
<!-- 2022/07/28 -->
<!-- 2022/07/27 -->
<!-- 2022/07/26 -->
<!-- 2022/07/25 -->
<!-- 2022/07/24 -->
<!-- 2022/07/23 -->
<!-- 2022/07/22 -->
<!-- 2022/07/21 -->
<!-- 2022/07/20 -->
<!-- 2022/07/19 -->
<!-- 2022/07/18 -->
<!-- 2022/07/17 -->
<!-- 2022/07/16 -->
<!-- 2022/07/15 -->
<!-- 2022/07/14 -->
<!-- 2022/07/13 -->
<!-- 2022/07/12 -->
<!-- 2022/07/11 -->
<!-- 2022/07/10 -->
<!-- 2022/07/09 -->
<!-- 2022/07/08 -->
<!-- 2022/07/07 -->
<!-- 2022/07/06 -->
<!-- 2022/07/05 -->
<!-- 2022/07/04 -->
<!-- 2022/07/03 -->
<!-- 2022/07/02 -->
<!-- 2022/07/01 -->
<!-- 2022/06/30 -->
<!-- 2022/06/29 -->
<!-- 2022/06/28 -->
<!-- 2022/06/27 -->
<li>Fixed a lock order reversal in nfs_inactive().
<li>Added support for RFC 9234 (Route Leak Prevention and Detection Using Roles) to <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>.
<li>Allowed the <a href="https://man.openbsd.org/pluart.4">pluart(4)</a> baud rate to be changed.
<li>Added <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> skiplist option.
<li>Fixed a panic triggered by ifconfig bnxt0 down by changing <a href="https://man.openbsd.org/bnxt.4">bnxt(4)</a> devices to not run rx and tx interrupt handlers when the interface is not running.
<li>Fixed <a href="https://man.openbsd.org/bwfm.4">bwfm(4)</a> ifconfig media display on devices with sta_info command version 3.
<li>Fixed missing interrupts for trackpads on some machines after resume by making sure <a href="https://man.openbsd.org/amdgpio.4">amdgpio(4)</a> restores pin configuration on resume.
<!-- 2022/06/26 -->
<li>Implemented privilege separation in <a href="https://man.openbsd.org/xlock.1">xlock(1)</a>.
<li>Added the --null flag to <a href="https://man.openbsd.org/grep.1">grep(1)</a> which makes grep print an ASCII NUL byte after the file name to make the output unambiguous.
<li>Updated <a href="https://man.openbsd.org/xsm.1">xsm(1)</a> to version 1.0.5.
<li>Updated <a href="https://man.openbsd.org/xlsfonts.1">xlsfonts(1)</a> to version 1.0.7.
<li>Updated <a href="https://man.openbsd.org/xload.1">xload(1)</a> to version 1.1.4.
<li>Updated <a href="https://man.openbsd.org/xedit.1">xedit(1)</a> to version 1.2.3.
<li>Moved the wait for autoconf interfaces from <a href="https://man.openbsd.org/rc.8">rc(8)</a> to <a href="https://man.openbsd.org/netstart.8">netstart(8)</a> to fix tunnel interfaces that depend on working autoconf interfaces.
<li>Updated <a href="https://man.openbsd.org/xdpyinfo.1">xdpyinfo(1)</a> to version 1.3.3.
<!-- 2022/06/25 -->
<li>Updated <a href="https://man.openbsd.org/xclock.1">xclock(1)</a> to version 1.1.1.
<li>Updated <a href="https://man.openbsd.org/xcalc.1">xcalc(1)</a> to version 1.1.1.
<li>Increased the <a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> auto partitioner's maximum size for /usr to 30G.
<li>Updated <a href="https://man.openbsd.org/xauth.1">xauth(1)</a> to version 1.1.2.
<li>Updated <a href="https://man.openbsd.org/setxkbmap.1">setxkbmap(1)</a> to version 1.3.3.
<li>Updated <a href="https://man.openbsd.org/mkfontscale.1">mkfontscale(1)</a> to version 1.2.2.
<li>Updated <a href="https://man.openbsd.org/listres.1">listres(1)</a> to version 1.0.5.
<li>Updated <a href="https://man.openbsd.org/iceauth.1">iceauth(1)</a> to version 1.0.9.
<li>Updated <a href="https://man.openbsd.org/editres.1">editres(1)</a> to version 1.0.8.
<li>Updated <a href="https://man.openbsd.org/bitmap.1">bitmap(1)</a> to version 1.1.0.
<li>Updated <a href="https://man.openbsd.org/appres.1">appres(1)</a> to version 1.0.6.
<!-- 2022/06/24 -->
<li>Improved accessibility of <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> -T html -O toc output by using the &lt;nav&gt; element in the DPUB-ARIA doc-toc role.
<!-- 2022/06/23 -->
<!-- 2022/06/22 -->
<!-- 2022/06/21 -->
<!-- 2022/06/20 -->
<!-- 2022/06/19 -->
<!-- 2022/06/18 -->
<li>Fixed <a href="https://man.openbsd.org/crypto.3">crypto(3)</a> prime recognition when doing trial divisions.
<!-- 2022/06/17 -->
<li>Fixed gzip byte counts with 32-bit integers.
<li>Fixed an issue where a device could show up 32 times by only probing device 0 on PCI busses corresponding to a PCIe root port or a PCIe switch/bridge downstream port.
<!-- 2022/06/16 -->
<li>Bumped MAXCPUS to 256 on arm64.
<li>Ensured cursor remains on selected item on menu in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<!-- 2022/06/15 -->
<!-- 2022/06/14 -->
<li>Bumped <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> version to 7.4.
<!-- 2022/06/13 -->
<li>Fixed a logic bug in pf_find_state() that could cause <a href="https://man.openbsd.org/pf.4">pf(4)</a> to incorrectly block a packet.
<!-- 2022/06/12 -->
<li>Added <a href="https://man.openbsd.org/stftemp.4">stftemp(4)</a>, a driver for the temperature sensor integrated on the StarFive JH7100 SoC.
<!-- 2022/06/11 -->
<!-- 2022/06/10 -->
<li>Fixed a missing <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> wakeup to fix a Go test hang.
<li>Implemented CPU_BUSY_CYCLE with the riscv64 ZiHintPause extension.
<!-- 2022/06/09 -->
<li>Fixed bugs in the handling of tap inputs in <a href="https://man.openbsd.org/wscons.4">wscons(4)</a>.
<li>Restored ETHERTYPE_NHRPA case to <a href="https://man.openbsd.org/tcpdump.1">tcpdump(1)</a>.
<li>Added <a href="https://man.openbsd.org/gpiorestart.4">gpiorestart(4)</a>, a driver that resets a SoC/board/machine using a GPIO pin.
<!-- 2022/06/08 -->
<li>Stopped refusing valid IPv6 addresses in -X connect SOCKS support of <a href="https://man.openbsd.org/nc.1">nc(1)</a>.
<li>Added the -b option to <a href="https://man.openbsd.org/sysupgrade.8">sysupgrade(8)</a> to set an alternative base directory to which the installation files will be downloaded to.
<li>Added <a href="https://man.openbsd.org/stfpinctrl.4">stfpinctrl(4)</a>, a driver for the pinctrl/gpio block found on the StarFive JH7100 SoC.
<!-- 2022/06/07 -->
<li>Fixed a <a href="https://man.openbsd.org/pf.4">pf(4)</a> NULL dereference panic triggered by <a href="https://man.openbsd.org/relayd.8">relayd(8)</a>.
<li>Updated unbound to 1.16.0.
<li>Removed the unused uvm_km_valloc_prefer_wait(9) and uvm_km_free_wakeup(9) functions.
<li>Fixed <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> path validation of AS numbers.
<!-- 2022/06/06 -->
<li>Bumped pbuild's datasize-cur from 2G to 3G on i386.
<li>Added <a href="https://man.openbsd.org/stfclock.4">stfclock(4)</a>, a driver for the clock controller found on the StarFive JH7100 SoC.
<li>Imported libdrm 2.4.111.
<li>Matched groff behavior to allow arbitrary argument delimiters for \C in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<li>Iterated the tied algorithm in <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> to prevent O(n^2) behavior when packages contain several hundred copies of the same file.
<!-- 2022/06/05 -->
<!-- 2022/06/04 -->
<li>Added handling of 9k devices which do not support antenna B to <a href="https://man.openbsd.org/iwm.4">iwm(4)</a>.
<!-- 2022/06/03 -->
<li>Fixed multiple memory leaks in <a href="https://man.openbsd.org/awk.1">awk(1)</a>.
<!-- 2022/06/02 -->
<li>Made SetEnv directives first-match-wins in both <a href="https://man.openbsd.org/ssh_config.5">ssh_config(5)</a> and <a href="https://man.openbsd.org/sshd_config.5">sshd_config(5)</a>.
<li>Dropped DSA keys from the SSH keys generated by default by <a href="https://man.openbsd.org/ssh-keygen.1">ssh-keygen</a> -A.
<li>Allowed <a href="https://man.openbsd.org/btrace.8">btrace(8)</a> to execute the END probe upon receiving a SIGTERM signal.
<li>Changed <a href="https://man.openbsd.org/dump.8">dump(8)</a> to not treat the first argument as a 4.3BSD option string if it contains a '/'.
<li>Ensured that when running <a href="https://man.openbsd.org/sysupgrade.8">sysupgrade(8)</a> on -stable that it will move to the next release, not -current.
<li>Implemented and enabled IPv4, TCP, and UDP checksum offloading for <a href="https://man.openbsd.org/igc.4">igc(4)</a>.
<!-- 2022/06/01 -->
<li>Enabled <a href="https://man.openbsd.org/aq.4">aq(4)</a> on arm64.
<!-- 2022/05/31 -->
<li>Implemented a rudimentary version of the <a href="https://man.openbsd.org/roff.7">roff(7)</a> <code>\A</code> escape sequence for <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<li>Rewrote <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> rsc.c using ASN.1 templates to implement the constrained versions of the RFC 3779 structures.
<li>Implemented <code>verify-required</code> certificate option in <a href="https://man.openbsd.org/ssh-keygen.1">ssh-keygen(1)</a>.
<li>Implemented a <code>max-communities</code> filter match for <a href="https://man.openbsd.org/bgpd.conf.5">bgpd.conf(5)</a>.
<!-- 2022/05/30 -->
<li>Added <a href="https://man.openbsd.org/sfgpio.4">sfgpio(4)</a>, a driver for the GPIO controller found on the SiFive FU740 SoC.
<li>Made <a href="https://man.openbsd.org/grep.1">grep(1)</a> provide full context when using match count (<code>-m</code>).
<li>Added an ACL list for multiple users attaching to the <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> socket.
<li>Made a first pass at providing kstats for <a href="https://man.openbsd.org/mvneta.4">mvneta(4)</a> from the hardware counters.
<!-- 2022/05/29 -->
<!-- 2022/05/28 -->
<!-- 2022/05/27 -->
<li>Limited locked memory to 64k.
<li>Fixed a crash in libpcap when it would walk off the end of the array performing frees.
<!-- 2022/05/26 -->
<li>Made <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> unconditionally call <a href="https://man.openbsd.org/freezero.3">freezero(3)</a> to guarantee that the password is removed from RAM even when sshpkt functions fail.
<li>Introduced a new daemon_execdir variable to <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> for changing to a specified directory before running rc_exec.
<!-- 2022/05/25 -->
<li>Migrated <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> printing of ASnumbers from the old asdot format to asplain format.
<li>Fixed non-transitive extended community handling in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>.
<li>Added RFC 9234 "BGP Role" support to <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>
<!-- 2022/05/24 -->
<!-- 2022/05/23 -->
<li>Made <a href="https://man.openbsd.org/mg.1">mg(1)</a> automatically delete trailing whitespace on RET in c-mode and auto-indent-mode.
<li>Stopped telling <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> that macppc HAS_MBR.
<li>Added support for the <a href="https://man.openbsd.org/ehci.4">ehci(4)</a> controller on marvell 3720 boards.
<li>Fixed a kernel panic in <a href="https://man.openbsd.org/pf.4">pf(4)</a> if IP options with an ICMP payload were truncated. Such packets will now be dropped instead.
<!-- 2022/05/22 -->
<li>Made <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> use a much safer FD-passing idiom for updating <a href="https://man.openbsd.org/utmp.5">utmp(5)</a>.
<!-- 2022/05/21 -->
<li>Added kernel locking in nfsrv_rcv() because NFS subsystem is not MP-safe yet.
<li>Converted KVA allocation to kmalloc(9) on hppa, mips64, and sparc64.
<li>Repaired a FILE leak in <a href="https://man.openbsd.org/resolvd.8">resolvd(8)</a>.
<li>Replaced <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> $rcexec variable with an rc_exec function. <em>This will require a mechanical change from <code>${rcexec}</code> to <code>rc_exec</code> in rc.d scripts.</em> Kept compatibility to give people a chance to fix their custom scripts.
<!-- 2022/05/20 -->
<li>Fixed <a href="https://man.openbsd.org/system.3">system(3)</a> to ignore SIGINT and SIGQUIT until the shell exits.
<li>Made <a href="https://man.openbsd.org/vmm.4">vmm(4)</a> load the vmcs before reading vcpu registers. This fixes <a href="https://man.openbsd.org/vmctl.8">vmctl(8)</a> send on Intel hosts using <a href="https://man.openbsd.org/vmd.8">vmd(8)</a>.
<!-- 2022/05/19 -->
<li>Changed the semantics of "hid_none" for <a href="https://man.openbsd.org/usbhid.3">hid_start_parse(3)</a> to allow matching of all possible kinds of report IDs.
<li>Made <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>'s roff_expand() parse left-to-right rather than right-to-left.
<li>Fixed luna88k MULTIPROCESSOR kernels booting with CPU modules installed in arbitrary slots.
<!-- 2022/05/18 -->
<li>Released <a href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-3.5.3-relnotes.txt">LibreSSL 3.5.3</a>.
<!-- 2022/05/17 -->
<li>Boosted <a href="https://man.openbsd.org/mvclock.4">mvclock(4)</a>'s priority such that it wins against <a href="https://man.openbsd.org/syscon.4">syscon(4)</a>.
<!-- 2022/05/16 -->
<li>Unlocked <a href="https://man.openbsd.org/umask.2">umask(2)</a>.
<!-- 2022/05/15 -->
<!-- 2022/05/14 -->
<li>Corrected <a href="https://man.openbsd.org/veb.4">veb(4)</a> to avoid calling if_enqueue from an smr critical section.
<!-- 2022/05/13 -->
<li>Added an additional <a href="https://man.openbsd.org/vmm.4">vmm(4)</a> fault type, fixing vm receive.
<li>Updated <a href="https://man.openbsd.org/nsd.8">nsd(8)</a> to upstream version 4.5.0.
<!-- 2022/05/12 -->
<li>Corrected reorder_kernel to also handle redirecting stderr to logged output when $KERNEL_DIR.tgz exists.
<li>Arranged <a href="https://man.openbsd.org/scp.1">scp(1)</a> so it won't <a href="https://man.openbsd.org/ftruncate.2">ftruncate(2)</a> files early when in <a href="https://man.openbsd.org/sftp.1">sftp(1)</a> mode.
<li>Added login.conf.d to <a href="https://man.openbsd.org/mtree.8">mtree(8)</a>.
<li>Fixed <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> setting of HT/VHT bits in rate flags of the Tx command that could cause a firmware panic.
<li>Added /etc/login.conf.d/* to <a href="https://man.openbsd.org/changelist.5">changelist(5)</a>.
<li>Elminated a race condition in <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a>'s knote_remove().
<li>Prevented use of "-u" when <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> is operating on GPT formatted disks.
<!-- 2022/05/11 -->
<!-- 2022/05/10 -->
<li>Made the CPU frequency scaling duration relative to the load when in automatic mode on battery.
<li>Fixed <a href="https://man.openbsd.org/rwlock.9">rwlock(9)</a> implementation to be fair to writers. Previously, readers could grab the lock even if writers were waiting first.
<!-- 2022/05/09 -->
<li>Aligned <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> logic with that used in the kernel to allow the protective EFI GPT partition to be in MBR partitions 0-3, not just 0.
<li>Added support for AX210/AX211 devices to <a href="https://man.openbsd.org/iwx.4">iwx(4)</a>.
<li>Added preliminary support for decoding RSC objects in filemode to <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>.
<!-- 2022/05/08 -->
<li>Allowed <a href="https://man.openbsd.org/ssh-keygen.1">ssh-keygen(1)</a> existing -U (use agent) flag to work with "-Y sign" operations.
<li>Fixed rebooting a received vm in <a href="https://man.openbsd.org/vmd.8">vmd(8)</a>.
<li>Backported an upstream zlib fix for CRC calculation.
<li>Updated zlib to version 1.2.12.
<!-- 2022/05/07 -->
<!-- 2022/05/06 -->
<!-- 2022/05/05 -->
<li>Fixed the watchdog in the installer so that the watchdog is reset after each download and each set installation.
<li>Added check to <a href="https://man.openbsd.org/acme-client.1">acme-client(1)</a> to ensure the challenge token is turned into a filename that is base64url encoded.
<li>Added error handling to <a href="https://man.openbsd.org/kbd.8">kbd(8)</a> for when setting the keyboard encoding fails.
<li>Changed IN_EXPERIMENTAL (aka 240/4) to no longer be considered not forwardable.
<!-- 2022/05/04 -->
<li>Introduced a mutex for <a href="https://man.openbsd.org/ratecheck.9">ratecheck(9)</a> and <a href="https://man.openbsd.org/ppsratecheck.9">ppsratecheck(9)</a>.
<li>Imported the HDKF code from OpenSSL 1.1.1o into <a href="https://man.openbsd.org/crypto.3">crypto(3)</a>.
<li>Bypassed <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> timeout in file mode.
<li>Merged the UVM swap-backed and object-backed inactive page lists.
<!-- 2022/05/03 -->
<li>Standardized memory units to bytes in <a href="https://man.openbsd.org/vmm.4">vmm(4)</a>, <a href="https://man.openbsd.org/vmctl.8">vmctl(8)</a>, and <a href="https://man.openbsd.org/vmd.8">vmd(8)</a>.
<li>Rate limited uvn_flush errors during pageout messages, preventing slowdown of system boot when a filesystem is full.
<li>Made <a href="https://man.openbsd.org/pf.4">pf(4)</a> more paranoid about IGMP/MKP messages.
<li>Activated parallel IP forwarding, starting 4 softnet tasks but limiting the usage to the number of CPUs.
<!-- 2022/05/02 -->
<li>Disabled bcmgenet DMA as part of hardware reset, preventing the hardware from ending up in a partially initialized state during netboot.
<!-- 2022/05/01 -->
<li>Installed useful <a href="https://man.openbsd.org/btrace.8">btrace(8)</a> scripts in /usr/share/btrace.
<li>Prevented out-of-bounds array access with binaries that use unsupported relocations on amd64.
<!-- 2022/04/30 -->
<!-- 2022/04/29 -->
<li>Enabled running of IP input and forwarding with a shared netlock.
<li>Enabled <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> caching by default.
<li>Updated libdrm to version 2.4.110.
<li>Altered <a href="https://man.openbsd.org/sndiod.8">sndiod(8)</a> to wait until the buffer is drained before closing the device.
<li>Changed <a href="https://man.openbsd.org/pf.4">pf(4)</a> handling of IGMP and ICMP6 MLD packets to allow multicast control packets to work by default.
<li>Introduced <a href="https://man.openbsd.org/sio_flush.3">sio_flush(3)</a> to stop playback immediately.
<!-- 2022/04/28 -->
<li>Fixed a potential leak of an SK device in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>.
<li>Fixed a memory leak on the session-bind path of <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a>.
<li>Protected the global lists with a mutex and moved rttimer entries into a temporary list to make route timers MP safe.
<li>Decoupled IP input and forwarding from protocol input to allow parallel IP processing while the upper layers are still not MP safe.
<!-- 2022/04/27 -->
<li>Removed the ASN.1 decoder tag/length cache (TLC) from <a href="https://man.openbsd.org/crypto.3">crypto(3)</a>.
<li>Added <a href="https://man.openbsd.org/dt.4">dt(4)</a> tracepoints for <a href="https://man.openbsd.org/vmm.4">vmm(4)</a> vm exit reporting.
<!-- 2022/04/26 -->
<li>Added cpu frequency sensors for each core on CPUs that have MPERF/APERF support.
<!-- 2022/04/25 -->
<li>Reimplemented the page allocation code using <a href="https://man.openbsd.org/bus_dma.9">bus_dma(9)</a> APIs to make sure DMA addresses are translated properly on architectures with an IOMMU. This fixed <a href="https://man.openbsd.org/amdgpu.4">amdgpu(4)</a> and <a href="https://man.openbsd.org/radeondrm.4">radeondrm(4)</a> on powerpc, sparc64, and arm64 machines.
<li>Updated libX11 to version 1.7.5.
<li>Updated <a href="https://man.openbsd.org/xterm">xterm(1)</a> to version 372.
<li>Extended <a href="https://man.openbsd.org/ksmn.4">ksmn(4)</a> to show CCD temperatures if available.
<!-- 2022/04/24 -->
<!-- 2022/04/23 -->
<li>Increased rx buffer size on <a href="https://man.openbsd.org/uaq.4">uaq(4)</a> to 62kB.
<li>Added missing uuid_dec_le() to init_fp() so <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> -A works on big-endian architectures.
<!-- 2022/04/22 -->
<li>Updated <a href="https://man.openbsd.org/vi">vi(1)</a> to apply expandtab to the output of a ! command.
<li>Protected <a href="https://man.openbsd.org/arp.4">arp(4)</a>, ND6, and <a href="https://man.openbsd.org/pppoe.4">pppoe(4)</a> with the kernel lock so that IP forwarding can be run in parallel.
<!-- 2022/04/21 -->
<li>Updated various wireless drivers to use <a href="https://man.openbsd.org/memset.3">memset(3)</a> to initialize ieee80211_rxinfo struct properly.
<li>Prevented a crash in <a href="https://man.openbsd.org/vi">vi(1)</a> when cursor key support is disabled.
<li>Introduced dedicated link entries for snapshots to <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a>.
<!-- 2022/04/20 -->
<li>Repaired <a href="https://man.openbsd.org/rge.4">rge(4)</a> hardware vlan tagging.
<li>Changed <a href="https://man.openbsd.org/crypto.3">crypto(3)</a> to avoid expensive RFC 3779 checks during certificate verification.
<li>Updated Mesa to version 21.3.8.
<li>Added concatenated JSON output to <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> filemode.
<!-- 2022/04/19 -->
<li>Made <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> try to continue running local I/O for channels in OPEN state during transport rekeying to allow escapes to work in the client if the connection stalls during a rekey event.
<li>Made <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> hard error when parse_filepath() is passed an unknown repository id.
<!-- 2022/04/18 -->
<li>Restored <a href="https://man.openbsd.org/vte.4">vte(4)</a> original MDC speed control register value on vte_reset, needed for Vortex86DX3 machines.
<li>Enabled <a href="https://man.openbsd.org/kstat.4">kstat(4)</a> and <a href="https://man.openbsd.org/kstat.1">kstat(1)</a>.
<!-- 2022/04/17 -->
<li>Fixed <a href="https://man.openbsd.org/kbd.8">kbd(8)</a> so it doesn't fail silently when executed by a regular user.
<!-- 2022/04/16 -->
<li>Made device matching in <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> more similar to linux iwlwifi.
<!-- 2022/04/15 -->
<li>Allowed more than one CRL URI in certificates for <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>
<li>Made use of the fact that repositories are unique objects in <a href="https://man.openbsd.org/pkg_add">pkg_add(1)</a> and annotated the quirks repository as cached, allowing for a large speed increase.
<!-- 2022/04/14 -->
<li>Relaxed address availability check for <a href="https://man.openbsd.org/multicast.4">multicast(4)</a> binds so processes listening for the same multicast address do not need to be the same UID.
<li>Fixed witness lock issue found where <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> holds the mutex and an interrupt grabs the kernel lock.
<!-- 2022/04/13 -->
<li>Updated <a href="https://man.openbsd.org/afterboot.8">afterboot(8)</a> to direct the user to use binary packages.
<li>Changed to a simpler formula to calculate a default kern.maxthread value: 2*NPROCESS.
<!-- 2022/04/12 -->
<li>Simplified machine command handling in <a href="https://man.openbsd.org/ddb.4">ddb(4)</a>.
<li>Fixed <a href="https://man.openbsd.org/openrsync">openrsync(1)</a> on sparc64 by eliminating a redundant second conversion of the int value from little to host endian.
<li>Extended <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> -f filemode to decode and print TAL details.
<!-- 2022/04/11 -->
<!-- 2022/04/10 -->
<li>Changed <a href="https://man.openbsd.org/compress">compress(1)</a> to print a more accurate message when -v is used with -k.
<li>Added missing arches (aarch64, mipsel64, powerpc64) to categories in <a href="https://man.openbsd.org/sendbug">sendbug(1)</a>.
<!-- 2022/04/09 -->
<!-- 2022/04/08 -->
<li>Fixed calculation of the width of spanned columns in <a href="https://man.openbsd.org/mandoc">mandoc(1)</a>.
<li>Fixed memory leak in <a href="https://man.openbsd.org/ipmi.4">ipmi(4)</a> get_sdr on failure.
<!-- 2022/04/07 -->
<li>Added support for more power sensors to <a href="https://man.openbsd.org/ipmi.4">ipmi(4)</a>.
<!-- 2022/04/06 -->
<li>Added support for switching from glass console to serial console on arm64 systems that default to glass console.
<li>Allowed bsd.rd and bsd/bsd.mp to boot on Oracle Cloud amd64 instances.
</ul>
